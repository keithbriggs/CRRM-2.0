<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CRRM documentation &#8212; CRRM 2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=0c472235" />
    <link rel="stylesheet" type="text/css" href="_static/pyramid.css?v=457c7dd5" />
    <script src="_static/documentation_options.js?v=60dbed4a"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">CRRM 2.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CRRM documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="toctree-wrapper compound">
</div>
<section id="crrm-documentation">
<h1>CRRM documentation<a class="headerlink" href="#crrm-documentation" title="Link to this heading">¶</a></h1>
<p>Last modified: 2025-11-10 10:49</p>
<section id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Link to this heading">¶</a></h2>
<p>CRRM stands for Cellular Radio Reference Model. This is a system-level network simulator which aims to predict the performance of a cellular radio system. It follows 5G concepts and channel models. The intention is to have an easy-to-use and fast system written in pure Python with minimal dependencies. It is especially designed to be suitable for interfacing to AI engines such as <code class="docutils literal notranslate"><span class="pre">tensorflow</span></code> or <code class="docutils literal notranslate"><span class="pre">pytorch</span></code>. One of the main application areas is testing the performance of novel network management algorithms.</p>
<p>Note that CRRM is a <em>system-level</em> simulator, not a link-level simulator. This means that it takes a coarse-grained approach, specifically meaning that it does not model concepts like packet flows and queueing at all. Resource allocation is modelled, but only as a continuous process that ignores discrete resource blocks. These simplifications are necessary if large systems are to be simulated. The main application areas are the evaluation of high-level network management strategies, not the accurate estimation of throughputs to indvidual devices. Other software is available for that type of link-level simulation.</p>
<p>CRRM is carefully designed to be very fast and to be able to handle large systems. It achieves this by a novel compute-on-demand mechanism, whereby internal data is only computed when needed. Moreover, only data which is known to have changed, normally because of User Equipment (UE) movement, is actually computed. The system knows internally what has not changed and thus does not need to be re-computed.</p>
<p>CRRM builds on the previous projects <a class="reference external" href="https://github.com/keithbriggs/AIMM-simulator">AIMM-simulator</a> by Keith Briggs, and <a class="reference external" href="https://github.com.mcas.ms/apw804/CellularReferenceModel">Cellular Reference Model</a> by Kishan Sthankiya, especially for pathloss models. However, CRRM has a completely new and much more efficient internal design and a new API, and essentially is a new project. Further technical documentation is at <a class="reference external" href="https://arxiv.org/abs/2511.02692">https://arxiv.org/abs/2511.02692</a>.</p>
<section id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Keith Briggs (<a class="reference external" href="https://keithbriggs.info">https://keithbriggs.info</a>)</p></li>
<li><p>Ibrahim Nur (University of Cambridge)</p></li>
</ul>
</section>
<section id="software-dependencies">
<h3>Software dependencies<a class="headerlink" href="#software-dependencies" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://python.org">Python 3.11</a> or higher.</p></li>
<li><p><a class="reference external" href="https://numpy.org/">NumPy</a>.</p></li>
<li><p><a class="reference external" href="https://scipy.org/">SciPy</a>.</p></li>
<li><p><a class="reference external" href="https://matplotlib.org">matplotlib</a>.</p></li>
</ol>
<section id="installation-from-pypi">
<h4>Installation from PyPi<a class="headerlink" href="#installation-from-pypi" title="Link to this heading">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>CRRM
</pre></div>
</div>
</section>
</section>
<section id="installation-from-source">
<h3>Installation from source<a class="headerlink" href="#installation-from-source" title="Link to this heading">¶</a></h3>
<p>First download the source as a zipfile from <a class="reference external" href="https://github.com/keithbriggs/CRRM-2.0/tree/master">https://github.com/keithbriggs/CRRM-2.0/tree/master</a>. Then perform these steps in your terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>unzip<span class="w"> </span>CRRM-2.0.zip
<span class="nb">cd</span><span class="w"> </span>CRRM-2.0
pip<span class="w"> </span>install<span class="w"> </span>.
</pre></div>
</div>
<p>You should of course develop new projects using CRRM in your own folders, not under the CRRM-2.0 folder!</p>
</section>
<section id="performance">
<h3>Performance<a class="headerlink" href="#performance" title="Link to this heading">¶</a></h3>
<p>The plot below shows the typical computation time for a range of system sizes. Note the proportionality of computation to both the number of cells, and to the number of UEs.  This indicates that there are no significant computational overheads.</p>
<p>Download script: <a class="reference download internal" download="" href="_downloads/eca7c911145d07d25f21fb6217d0e384/CRRM_large_system_timing_tests.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_large_system_timing_tests.py</span></code></a></p>
<figure class="align-default" id="id2">
<img alt="CRRM_large_system_timing_tests.png" src="_images/CRRM_large_system_timing_tests.png" />
<figcaption>
<p><span class="caption-text">CRRM performance metrics.</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<hr align="left" width="100%"></section>
</section>
<section id="tutorial-examples">
<h2>Tutorial examples<a class="headerlink" href="#tutorial-examples" title="Link to this heading">¶</a></h2>
<p><strong>Note</strong>: as with other python packages like <cite>numpy</cite>, there are alternative ways of importing which are functionally equivalent but result in a different namespace set-up.  With <cite>CRRM</cite>, these two options are equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">CRRM</span><span class="w"> </span><span class="kn">import</span> <span class="n">Simulator</span><span class="p">,</span><span class="n">Parameters</span>
<span class="linenos">2</span><span class="n">params</span><span class="o">=</span><span class="n">Parameters</span><span class="p">()</span>
<span class="linenos">3</span><span class="n">sim</span><span class="o">=</span><span class="n">Simulator</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
<span class="linenos">4</span><span class="c1"># or...</span>
<span class="linenos">5</span><span class="kn">import</span><span class="w"> </span><span class="nn">CRRM</span>
<span class="linenos">6</span><span class="n">params</span><span class="o">=</span><span class="n">CRRM</span><span class="o">.</span><span class="n">Parameters</span><span class="p">()</span>
<span class="linenos">7</span><span class="n">sim</span><span class="o">=</span><span class="n">CRRM</span><span class="o">.</span><span class="n">Simulator</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Important</strong>: the parameters class is used to set the <em>initial</em> conditions for the simulation. If these are changed during a simulation run, it is not safe to assume that the new values will be used by the simulation kernel. For only a few parameters is it meaningful to change them during a run, and for these methods with names like  <a class="reference internal" href="#CRRM.Simulator.set_power_matrix" title="CRRM.Simulator.set_power_matrix"><code class="xref any py py-func docutils literal notranslate"><span class="pre">CRRM.Simulator.set_power_matrix()</span></code></a> methods are provided. See the documentation of all available such methods under <a class="reference internal" href="#module-CRRM.Simulator" title="CRRM.Simulator"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">Simulator</span></code></a> below. Further technical documentation is at <a class="reference external" href="https://arxiv.org/abs/2511.02692">https://arxiv.org/abs/2511.02692</a>.</p>
<section id="example-01-quick-start">
<h3>Example 01: Quick start<a class="headerlink" href="#example-01-quick-start" title="Link to this heading">¶</a></h3>
<p>The following example will test the installation and introduce the basic concepts.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">CRRM</span><span class="w"> </span><span class="kn">import</span> <span class="n">Simulator</span><span class="p">,</span><span class="n">Parameters</span>
<span class="linenos">2</span><span class="n">crrm_parameters</span><span class="o">=</span><span class="n">Parameters</span><span class="p">(</span><span class="n">n_ues</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="linenos">3</span><span class="n">crrm_simulator</span><span class="o">=</span><span class="n">Simulator</span><span class="p">(</span><span class="n">crrm_parameters</span><span class="p">)</span>
<span class="linenos">4</span><span class="n">crrm_simulator</span><span class="o">.</span><span class="n">layout_plot</span><span class="p">()</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;UE throughputs=</span><span class="si">{</span><span class="n">crrm_simulator</span><span class="o">.</span><span class="n">get_UE_throughputs</span><span class="p">()</span><span class="si">}</span><span class="s1"> Mb/s&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The minimal steps required to build and run a simulation are:</p>
<ol class="arabic simple">
<li><p>Import <code class="docutils literal notranslate"><span class="pre">Simulator</span></code>, and <code class="docutils literal notranslate"><span class="pre">Parameters</span></code>.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">Parameters</span></code> instance.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">Simulator</span></code> instance with the <code class="docutils literal notranslate"><span class="pre">Parameters</span></code> instance as its only argument.</p></li>
<li><p>Draw a plot to confirm the system layout (see below).</p></li>
<li><p>Print out the computed values of any variables of interest.</p></li>
</ol>
<p>The output should be something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">UE</span> <span class="n">throughputs</span><span class="o">=</span><span class="p">[</span><span class="mi">16</span> <span class="mi">16</span>  <span class="mi">9</span>  <span class="mi">7</span>  <span class="mi">5</span>  <span class="mi">9</span> <span class="mi">16</span> <span class="mi">33</span> <span class="mi">33</span>  <span class="mi">8</span> <span class="mi">33</span> <span class="mi">28</span> <span class="mi">16</span> <span class="mi">43</span> <span class="mi">43</span> <span class="mi">16</span> <span class="mi">22</span> <span class="mi">29</span> <span class="mi">66</span> <span class="mi">26</span><span class="p">]</span> <span class="n">Mb</span><span class="o">/</span><span class="n">s</span>
</pre></div>
</div>
<p>Note that the default locations for cells and UEs used are 7 cells in a hexagonal layout, and UEs distributed as a Poisson Point Process (PPP), with mean 50 (in the approximate area covered by the cells). These default locations can be over-ridden by using the <code class="docutils literal notranslate"><span class="pre">cell_locations</span></code> and <code class="docutils literal notranslate"><span class="pre">ue_initial_locations</span></code> arguments when creating the <code class="docutils literal notranslate"><span class="pre">CRRM_parameters</span></code> instance. In this example we simply use the <cite>n_ues</cite> parameter to use 20 UEs rather than the default 50, but we keep the PPP distribution.</p>
<p>Download script: <a class="reference download internal" download="" href="_downloads/6d6347d1ccaa8bb8eb1ebf71b321f048/CRRM_example_01_quick-start.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_01_quick-start.py</span></code></a></p>
<figure class="align-default" id="id3">
<img alt="CRRM_example_01_quick-start_layout.png" src="_images/CRRM_example_01_quick-start_layout.png" />
<figcaption>
<p><span class="caption-text">CRRM example 01 quick-start layout.</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-02-adding-a-logger">
<h3>Example 02: Adding a logger<a class="headerlink" href="#example-02-adding-a-logger" title="Link to this heading">¶</a></h3>
<p>Normally we want to log or capture data during a simulation run, in order to plot it at the end of the run, or to do statistical analyses.  The <cite>Logger</cite> class is used for this, as outlined in this code example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">CRRM</span><span class="w"> </span><span class="kn">import</span> <span class="n">Parameters</span><span class="p">,</span><span class="n">Simulator</span><span class="p">,</span><span class="n">Logger</span>
<span class="linenos"> 2</span><span class="n">crrm_parameters</span><span class="o">=</span><span class="n">Parameters</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="n">crrm</span><span class="o">=</span><span class="n">Simulator</span><span class="p">(</span><span class="n">crrm_parameters</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="n">logger</span><span class="o">=</span><span class="n">Logger</span><span class="p">(</span><span class="n">crrm</span><span class="p">,</span><span class="n">captures</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;cqi&#39;</span><span class="p">,</span><span class="s1">&#39;mcs&#39;</span><span class="p">,</span><span class="s1">&#39;sinr&#39;</span><span class="p">,</span><span class="s1">&#39;se_Shannon&#39;</span><span class="p">,</span><span class="s1">&#39;tp&#39;</span><span class="p">))</span>
<span class="linenos"> 5</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">crrm_parameters</span><span class="o">.</span><span class="n">n_moves</span><span class="p">):</span>
<span class="linenos"> 6</span>  <span class="n">logger</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
<span class="linenos"> 7</span>  <span class="c1"># now move some UEs...</span>
<span class="linenos"> 8</span><span class="n">logger</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;cqi&#39;</span><span class="p">,</span><span class="s1">&#39;mcs&#39;</span><span class="p">,</span><span class="s1">&#39;sinr&#39;</span><span class="p">,</span><span class="s1">&#39;se_Shannon&#39;</span><span class="p">,</span><span class="s1">&#39;tp&#39;</span><span class="p">),</span>
<span class="linenos"> 9</span>            <span class="n">fnbase</span><span class="o">=</span><span class="s1">&#39;img/CRRM_example_02_logger&#39;</span><span class="p">,</span>
<span class="linenos">10</span>            <span class="n">title</span><span class="o">=</span><span class="s1">&#39;CRRM logger&#39;</span><span class="p">,</span>
<span class="linenos">11</span>            <span class="n">averages</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tp&#39;</span><span class="p">,),</span>
<span class="linenos">12</span>            <span class="n">smooth_averages</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Import the required classes.</p></li>
<li><p>Create a <cite>Parameters</cite> instance.</p></li>
<li><p>Create a <cite>Simulator</cite> instance.</p></li>
<li><p>Create a <cite>Logger</cite> instance, specifying which quantities are to be captured, and optionally for which UEs (the default is all UEs).</p></li>
<li><p>Start the main simulation loop.</p></li>
<li><p>On each loop iteration, capture the data.</p></li>
<li><p>Move some or all UEs according to some mobility model.</p></li>
<li><p>Plot the results. The <cite>averages</cite> field causes the average of the captured data to also be plotted.</p></li>
</ol>
<p>Download script: <a class="reference download internal" download="" href="_downloads/f6b66780d0a1b51af01bd1b819fa187f/CRRM_example_02_logger.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_02_logger.py</span></code></a></p>
<figure class="align-default" id="id4">
<img alt="CRRM_example_02_logger" src="_images/CRRM_example_02_logger.png" />
<figcaption>
<p><span class="caption-text">CRRM example 02: logger.</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-03-resource-allocation">
<h3>Example 03: Resource allocation<a class="headerlink" href="#example-03-resource-allocation" title="Link to this heading">¶</a></h3>
<p>This example demonstrates the <code class="docutils literal notranslate"><span class="pre">resource_allocation_fairness</span></code> parameter (denoted as <span class="math notranslate nohighlight">\(p\)</span>). This parameter controls how resources are shared among UEs attached to the same cell. The model calculates the throughput <span class="math notranslate nohighlight">\(T_i\)</span> for a user <span class="math notranslate nohighlight">\(i\)</span> with spectral efficiency <span class="math notranslate nohighlight">\(S_i\)</span> using the equation <span class="math notranslate nohighlight">\(T_i = a S_i^{1-p}\)</span>. Here, <span class="math notranslate nohighlight">\(p\)</span> is the fairness parameter, and <span class="math notranslate nohighlight">\(a\)</span> is a proportionality factor calculated for each cell, which represents the total subband bandwidth divided by the sum of the “costs” (<span class="math notranslate nohighlight">\(S_j^{-p}\)</span>) of all UEs attached to that same cell. The script plots the throughput of all UEs as this parameter is swept from a negative value (favouring strong users) to a positive value (favouring weak users).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">crrm_parameters</span><span class="o">=</span><span class="n">Parameters</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">resource_allocation_fairness</span><span class="o">=</span><span class="n">pmin</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="linenos">2</span><span class="n">crrm</span><span class="o">=</span><span class="n">Simulator</span><span class="p">(</span><span class="n">crrm_parameters</span><span class="p">)</span>
<span class="linenos">3</span><span class="n">crrm_log</span><span class="o">=</span><span class="n">Logger</span><span class="p">(</span><span class="n">crrm</span><span class="p">,</span> <span class="n">captures</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tp&#39;</span><span class="p">,),</span> <span class="o">...</span><span class="p">)</span>
<span class="linenos">4</span><span class="n">ps</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">pmin</span><span class="p">,</span> <span class="n">pmax</span><span class="p">,</span> <span class="n">crrm_parameters</span><span class="o">.</span><span class="n">n_moves</span><span class="p">)</span>
<span class="linenos">5</span><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ps</span><span class="p">:</span>
<span class="linenos">6</span>  <span class="n">crrm</span><span class="o">.</span><span class="n">set_resource_allocation_fairness</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="linenos">7</span>  <span class="n">crrm_log</span><span class="o">.</span><span class="n">capture</span><span class="p">()</span>
<span class="linenos">8</span><span class="n">crrm_log</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;tp&#39;</span><span class="p">,),</span> <span class="n">x_axis</span><span class="o">=</span><span class="n">ps</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>The key steps are:</p>
<ol class="arabic simple">
<li><p>A <cite>Logger</cite> instance is created, configured to capture throughput (<code class="docutils literal notranslate"><span class="pre">tp</span></code>) for all UEs.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">numpy.linspace</span></code> array of fairness values (<code class="docutils literal notranslate"><span class="pre">ps</span></code>) is generated.</p></li>
<li><p>The main loop iterates over this <code class="docutils literal notranslate"><span class="pre">ps</span></code> array, not over time steps.</p></li>
<li><p>Inside the loop, <code class="docutils literal notranslate"><span class="pre">set_resource_allocation_fairness()</span></code> is called to update the simulator’s parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logger.capture()</span></code> logs the resulting throughputs for all UEs at this fairness value.</p></li>
<li><p>Finally, <code class="docutils literal notranslate"><span class="pre">logger.plot()</span></code> is called with <code class="docutils literal notranslate"><span class="pre">x_axis=ps</span></code> to plot throughput <em>vs</em> the fairness parameter.</p></li>
</ol>
<p>Download script: <a class="reference download internal" download="" href="_downloads/72f271f756a1fc05a326e27626d16840/CRRM_example_03_resource_allocation.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_03_resource_allocation.py</span></code></a></p>
<figure class="align-default" id="id5">
<img alt="CRRM_example_03_resource_allocation.png" src="_images/CRRM_example_03_resource_allocation.png" />
<figcaption>
<p><span class="caption-text">CRRM example 03: resource allocation.</span><a class="headerlink" href="#id5" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-04-pathloss-model-comparison">
<h3>Example 04: Pathloss model comparison<a class="headerlink" href="#example-04-pathloss-model-comparison" title="Link to this heading">¶</a></h3>
<p>This script compares the available pathloss models from the simulator. It simulates a single UE moving radially away from the cell and captures its throughput at each step. This process is repeated for each long-distance model (RMa, UMa, UMi, and power-law), and the results are plotted on a single graph to show the significant impact of the propagation model on performance.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">model_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RMa&#39;</span><span class="p">,</span> <span class="s1">&#39;UMa&#39;</span><span class="p">,</span> <span class="s1">&#39;UMi&#39;</span><span class="p">,</span> <span class="s1">&#39;power-law&#39;</span><span class="p">]</span>
<span class="linenos"> 2</span><span class="n">all_tps</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 3</span><span class="k">for</span> <span class="n">model_name</span> <span class="ow">in</span> <span class="n">model_names</span><span class="p">:</span>
<span class="linenos"> 4</span>  <span class="n">crrm_parameters</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">pathloss_model_name</span><span class="o">=</span><span class="n">model_name</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="linenos"> 5</span>  <span class="n">crrm</span> <span class="o">=</span> <span class="n">Sim</span><span class="p">(</span><span class="n">crrm_parameters</span><span class="p">)</span>
<span class="linenos"> 6</span>  <span class="n">tp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">n_points</span><span class="p">)</span>
<span class="linenos"> 7</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_points</span><span class="p">):</span>
<span class="linenos"> 8</span>    <span class="n">tp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">crrm</span><span class="o">.</span><span class="n">get_UE_throughputs</span><span class="p">()[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="linenos"> 9</span>    <span class="n">crrm</span><span class="o">.</span><span class="n">move_ue_locations</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="linenos">10</span>  <span class="n">all_tps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
<span class="linenos">11</span><span class="n">plot</span><span class="p">(</span><span class="n">distances</span><span class="p">,</span> <span class="n">all_tps</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">model_names</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>The key steps are:</p>
<ol class="arabic simple">
<li><p>Define the list of models to iterate over.</p></li>
<li><p>Create an empty list to store the final throughput array from each run.</p></li>
<li><p>Begin the main loop, iterating over the model names.</p></li>
<li><p>Inside the loop, create a new <cite>Params</cite> instance, critically setting the <code class="docutils literal notranslate"><span class="pre">pathloss_model_name</span></code> for this iteration.</p></li>
<li><p>Create a new <cite>Sim</cite> instance for this model.</p></li>
<li><p>Run the inner simulation loop, moving the UE and capturing throughput into a temporary array <code class="docutils literal notranslate"><span class="pre">tp</span></code>.</p></li>
<li><p>Append the completed throughput array <code class="docutils literal notranslate"><span class="pre">tp</span></code> to the main <code class="docutils literal notranslate"><span class="pre">all_tps</span></code> list.</p></li>
<li><p>After the main loop, pass all the collected data to the plot function.</p></li>
</ol>
<p>Download script: <a class="reference download internal" download="" href="_downloads/191efb4b54116129cd472d485e70a46c/CRRM_example_04_pathloss_model_comparison.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_04_pathloss_model_comparison.py</span></code></a></p>
<p>The script prints simulation progress to the console and generates the plot shown below. Note how the simple <code class="docutils literal notranslate"><span class="pre">power-law</span></code> model (exponent 3.0) is more pessimistic at short distances than the dual-slope 3GPP models (like RMa), which start with a pathloss exponent closer to 2.0.</p>
<figure class="align-default" id="id6">
<img alt="CRRM_example_04_pathloss_model_comparison.png" src="_images/CRRM_example_04_pathloss_model_comparison.png" />
<figcaption>
<p><span class="caption-text">Throughput <em>vs</em> distance for several standard pathloss models.</span><a class="headerlink" href="#id6" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-05-antenna-pattern-visualisation">
<h3>Example 05: Antenna pattern visualisation<a class="headerlink" href="#example-05-antenna-pattern-visualisation" title="Link to this heading">¶</a></h3>
<p>This script provides a visualisation of the 3-sector antenna gain pattern model. It plots the throughput of a single UE moving in a 360-degree circle at a constant radius from the cell. The test is run for both the 1-sector (omnidirectional) case and the 3-sector case, allowing a direct comparison.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">thetas</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">n_steps</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="n">xs</span>       <span class="o">=</span> <span class="n">r_m</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">thetas</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="n">ys</span>       <span class="o">=</span> <span class="n">r_m</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">thetas</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="o">...</span>
<span class="linenos"> 5</span><span class="n">all_tps</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 6</span><span class="k">for</span> <span class="n">n_sec</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
<span class="linenos"> 7</span>  <span class="n">crrm_parameters</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">n_sectors</span><span class="o">=</span><span class="n">n_sec</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="linenos"> 8</span>  <span class="n">crrm</span> <span class="o">=</span> <span class="n">Sim</span><span class="p">(</span><span class="n">crrm_parameters</span><span class="p">)</span>
<span class="linenos"> 9</span>  <span class="n">tp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">n_steps</span><span class="p">)</span>
<span class="linenos">10</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_steps</span><span class="p">):</span>
<span class="linenos">11</span>    <span class="n">pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">xs</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">h_ut</span><span class="p">]])</span>
<span class="linenos">12</span>    <span class="n">crrm</span><span class="o">.</span><span class="n">set_ue_locations</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">)</span>
<span class="linenos">13</span>    <span class="n">tp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">crrm</span><span class="o">.</span><span class="n">get_UE_throughputs</span><span class="p">()[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="linenos">14</span>  <span class="n">all_tps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
<span class="linenos">15</span><span class="n">plot</span><span class="p">(</span><span class="n">degrees</span><span class="p">,</span> <span class="n">all_tps</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>The core logic is:</p>
<ol class="arabic simple">
<li><p>Generate the array of <span class="math notranslate nohighlight">\((x, y)\)</span> coordinates for the circular path.</p></li>
<li><p>Loop over the desired sector configurations (1 and 3).</p></li>
<li><p>Inside this loop, create a <cite>Params</cite> instance with the correct <code class="docutils literal notranslate"><span class="pre">n_sectors</span></code> for this run.</p></li>
<li><p>Create the corresponding <cite>Sim</cite> instance.</p></li>
<li><p>Run an inner loop over all path coordinates.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">set_ue_locations()</span></code> method to explicitly place the UE at the position for this step.</p></li>
<li><p>Capture the UE’s throughput at that position.</p></li>
<li><p>Store the throughput arrays and pass them to the plot function.</p></li>
</ol>
<p>Download script: <a class="reference download internal" download="" href="_downloads/73fe89879bd19cae5bb9b85178e06827/CRRM_example_05_antenna_pattern.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_05_antenna_pattern.py</span></code></a></p>
<p>The resulting plot clearly shows the gain “lobes” from the 3-sector antenna pattern compared to the flat omnidirectional (1-sector) case, confirming the antenna gain model is working correctly.</p>
<figure class="align-default" id="id7">
<img alt="CRRM_example_05_antenna_pattern.png" src="_images/CRRM_example_05_antenna_pattern.png" />
<figcaption>
<p><span class="caption-text">Plot showing 1-sector <em>vs</em> 3-sector throughput for a UE moving in a circle.</span><a class="headerlink" href="#id7" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-06-subbanding-and-interference">
<h3>Example 06: Subbanding and Interference<a class="headerlink" href="#example-06-subbanding-and-interference" title="Link to this heading">¶</a></h3>
<p>This script demonstrates the use of subbanding. It defines a worst-case scenario: one UE placed exactly between two cells. In the first test (1 subband), the UE experiences full interference from both cells, resulting in near-zero SINR. In the second test (2 subbands), the cells are configured via the <code class="docutils literal notranslate"><span class="pre">power_matrix</span></code> parameter to transmit on different subbands, eliminating the interference at the UE and showing the resulting massive throughput gain.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># Case 1: n_subbands=1</span>
<span class="linenos"> 2</span><span class="n">params_case1</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
<span class="linenos"> 3</span>  <span class="o">...</span><span class="p">,</span>
<span class="linenos"> 4</span>  <span class="n">n_subbands</span>             <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 5</span>  <span class="n">power_matrix</span>           <span class="o">=</span> <span class="p">[[</span><span class="mf">100.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">100.0</span><span class="p">]],</span>
<span class="linenos"> 6</span>  <span class="o">...</span>
<span class="linenos"> 7</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="n">crrm_case1</span> <span class="o">=</span> <span class="n">Sim</span><span class="p">(</span><span class="n">params_case1</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">crrm_case1</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">10</span><span class="n">sinr_case1</span> <span class="o">=</span> <span class="n">crrm_case1</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="c1"># Case 2: n_subbands=2</span>
<span class="linenos">13</span><span class="n">params_case2</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span>
<span class="linenos">14</span>  <span class="o">...</span><span class="p">,</span>
<span class="linenos">15</span>  <span class="n">n_subbands</span>             <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos">16</span>  <span class="n">power_matrix</span>           <span class="o">=</span> <span class="p">[[</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">]],</span>
<span class="linenos">17</span>  <span class="o">...</span>
<span class="linenos">18</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">crrm_case2</span> <span class="o">=</span> <span class="n">Sim</span><span class="p">(</span><span class="n">params_case2</span><span class="p">)</span>
<span class="linenos">20</span><span class="n">crrm_case2</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">21</span><span class="n">sinrs_case2</span> <span class="o">=</span> <span class="n">crrm_case2</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>This demo runs two separate simulations:</p>
<ol class="arabic simple">
<li><p>A <cite>Params</cite> instance is created for 1 subband.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">power_matrix</span></code> is set so both cells transmit on that single band, creating high interference.</p></li>
<li><p>The simulation is run and the resulting (low) SINR is captured.</p></li>
<li><p>A second <cite>Params</cite> instance is created for 2 subbands.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">power_matrix</span></code> is set to coordinate power: Cell 0 transmits on subband 0, and Cell 1 on subband 1.</p></li>
<li><p>The simulation is run and the SINR for both subbands is captured, showing high SINR on the subband with no interference.</p></li>
</ol>
<p>Download script: <a class="reference download internal" download="" href="_downloads/ea4a61a6b36c2edae42c253fb04e5557/CRRM_example_06_subbanding.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_06_subbanding.py</span></code></a></p>
<p>This script prints its results directly to the console. The output shows the SINR and throughput for both cases, demonstrating a clear performance gain.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Case</span> <span class="mi">1</span><span class="p">:</span> <span class="n">n_subbands</span><span class="o">=</span><span class="mi">1</span>
<span class="n">UE</span> <span class="n">SINR</span><span class="p">:</span>    <span class="o">-</span><span class="mf">0.00</span> <span class="n">dB</span>
<span class="n">UE</span> <span class="n">Throughput</span><span class="p">:</span>   <span class="mf">17.54</span> <span class="n">Mb</span><span class="o">/</span><span class="n">s</span>
<span class="n">Case</span> <span class="mi">2</span><span class="p">:</span> <span class="n">n_subbands</span><span class="o">=</span><span class="mi">2</span>
<span class="n">UE</span> <span class="n">SINR</span> <span class="p">(</span><span class="n">on</span> <span class="n">subband</span> <span class="mi">0</span><span class="p">):</span> <span class="mf">20.00</span> <span class="n">dB</span> <span class="p">(</span><span class="n">note</span><span class="p">:</span> <span class="n">high</span> <span class="n">signal</span><span class="p">,</span> <span class="n">no</span> <span class="n">interference</span><span class="p">)</span>
<span class="n">UE</span> <span class="n">SINR</span> <span class="p">(</span><span class="n">on</span> <span class="n">subband</span> <span class="mi">1</span><span class="p">):</span> <span class="o">-</span><span class="mf">20.00</span> <span class="n">dB</span> <span class="p">(</span><span class="n">note</span><span class="p">:</span> <span class="n">minimal</span> <span class="n">signal</span><span class="p">)</span>
<span class="n">UE</span> <span class="n">Throughput</span><span class="p">:</span> <span class="mf">61.25</span> <span class="n">Mbps</span> <span class="p">(</span><span class="n">note</span><span class="p">:</span> <span class="kn">from</span><span class="w"> </span><span class="nn">SB</span> <span class="mi">0</span> <span class="n">only</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="example-07-adding-ues-during-a-run">
<h3>Example 07: Adding UEs during a run<a class="headerlink" href="#example-07-adding-ues-during-a-run" title="Link to this heading">¶</a></h3>
<p>This example demonstrates how to dynamically add UEs to a running simulation using the <code class="docutils literal notranslate"><span class="pre">add_ue()</span></code> method. It starts with a single cell and a single UE, then iteratively adds new UEs in a loop, printing the throughput of all UEs at each step.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">crrm_parameters</span><span class="o">=</span><span class="n">Parameters</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="linenos">2</span><span class="n">crrm</span><span class="o">=</span><span class="n">Simulator</span><span class="p">(</span><span class="n">crrm_parameters</span><span class="p">)</span>
<span class="linenos">3</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">+</span><span class="n">nmax</span><span class="p">):</span>
<span class="linenos">4</span>  <span class="n">crrm</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">5</span>  <span class="n">ue_throughputs</span><span class="o">=</span><span class="n">crrm</span><span class="o">.</span><span class="n">get_UE_throughputs</span><span class="p">()[:,</span><span class="mi">0</span><span class="p">]</span>
<span class="linenos">6</span>  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;i=</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1"> ue_throughput=</span><span class="si">{</span><span class="n">ue_throughputs</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">7</span>  <span class="n">crrm</span><span class="o">.</span><span class="n">add_ue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">10.0</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]]))</span>
</pre></div>
</div>
<p>The key steps are:</p>
<ol class="arabic simple">
<li><p>A <cite>Simulator</cite> instance is created with a single cell and a single UE.</p></li>
<li><p>A loop is started to add <cite>nmax</cite> new UEs.</p></li>
<li><p>Inside the loop, <cite>update()</cite> is called to get the current state.</p></li>
<li><p>The throughputs for all <em>currently active</em> UEs are fetched and printed.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">add_ue()</span></code> method is called with a new location, adding one more UE to the simulation for the <em>next</em> loop iteration.</p></li>
</ol>
<p>The console output demonstrates the effect of cell load. As more UEs are added to the same cell, the total cell throughput is shared among them, and the per-UE throughput decreases.</p>
<p>Download script: <a class="reference download internal" download="" href="_downloads/c3069cc11b167f4a71e1a9b4ab0ace77/CRRM_example_07_adding_ues.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_07_adding_ues.py</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span><span class="o">=</span><span class="mi">2</span> <span class="n">ue_throughput</span><span class="o">=</span><span class="p">[</span><span class="mf">148.126</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">3</span> <span class="n">ue_throughput</span><span class="o">=</span><span class="p">[</span><span class="mf">74.063</span> <span class="mf">74.063</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">4</span> <span class="n">ue_throughput</span><span class="o">=</span><span class="p">[</span><span class="mf">49.375</span> <span class="mf">49.375</span> <span class="mf">49.375</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">5</span> <span class="n">ue_throughput</span><span class="o">=</span><span class="p">[</span><span class="mf">37.032</span> <span class="mf">37.032</span> <span class="mf">37.032</span> <span class="mf">37.032</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">6</span> <span class="n">ue_throughput</span><span class="o">=</span><span class="p">[</span><span class="mf">29.625</span> <span class="mf">29.625</span> <span class="mf">29.625</span> <span class="mf">29.625</span> <span class="mf">29.625</span><span class="p">]</span>
<span class="n">i</span><span class="o">=</span><span class="mi">7</span> <span class="n">ue_throughput</span><span class="o">=</span><span class="p">[</span><span class="mf">24.688</span> <span class="mf">24.688</span> <span class="mf">24.688</span> <span class="mf">24.688</span> <span class="mf">24.688</span> <span class="mf">24.688</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="example-08-the-inh-indoor-hotspot-model">
<h3>Example 08: The InH Indoor Hotspot model<a class="headerlink" href="#example-08-the-inh-indoor-hotspot-model" title="Link to this heading">¶</a></h3>
<p>This script is a minimal example of how to select and use the <code class="docutils literal notranslate"><span class="pre">InH</span></code> (Indoor Hotspot) pathloss model. It sets up a simple scenario with two cells and one UE (in a high-interference, midpoint location) and prints the resulting throughput.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">crrm_parameters</span><span class="o">=</span><span class="n">Params</span><span class="p">(</span>
<span class="linenos"> 2</span>  <span class="n">n_ues</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 3</span>  <span class="n">pathloss_model_name</span><span class="o">=</span><span class="s2">&quot;InH&quot;</span><span class="p">,</span>
<span class="linenos"> 4</span>  <span class="n">ue_initial_locations</span><span class="o">=</span><span class="p">[[</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">]],</span>
<span class="linenos"> 5</span>  <span class="n">cell_locations</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">],</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">]],</span>
<span class="linenos"> 6</span>  <span class="o">...</span>
<span class="linenos"> 7</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="n">crrm</span><span class="o">=</span><span class="n">Sim</span><span class="p">(</span><span class="n">crrm_parameters</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">crrm</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="linenos">10</span><span class="n">ue_throughput</span><span class="o">=</span><span class="n">crrm</span><span class="o">.</span><span class="n">get_UE_throughputs</span><span class="p">()</span>
<span class="linenos">11</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;throughput for one UE...is </span><span class="si">{</span><span class="n">ue_throughput</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> Mb/s&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The key steps are:</p>
<ol class="arabic simple">
<li><p>A <cite>Params</cite> instance is created.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">pathloss_model_name</span></code> is explicitly set to <code class="docutils literal notranslate"><span class="pre">&quot;InH&quot;</span></code>.</p></li>
<li><p>A 2-cell, 1-UE layout is defined.</p></li>
<li><p>The <cite>Sim</cite> is created, updated, and the final throughput for the single UE is printed.</p></li>
</ol>
<p>Download script: <a class="reference download internal" download="" href="_downloads/75be75de2be56e7c3d8f6565bcdcae33/CRRM_example_08_InH.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_08_InH.py</span></code></a></p>
<p>This script prints a single line to the console reporting the throughput for this specific indoor scenario.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>throughput for one UE...is 19.4 Mb/s
</pre></div>
</div>
</section>
<section id="example-09-indoor-hotspot-model-in-3d">
<h3>Example 09: Indoor Hotspot model in 3d<a class="headerlink" href="#example-09-indoor-hotspot-model-in-3d" title="Link to this heading">¶</a></h3>
<p>This is an advanced example demonstrating a 3D animated simulation using the <code class="docutils literal notranslate"><span class="pre">InH</span></code> model. It shows multiple UEs moving within the 3D boundaries of a building, including randomly moving between floors. The script generates a series of 3D plot frames showing the UE locations and their current throughputs, which can then be compiled into a video.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">parameters</span> <span class="o">=</span> <span class="n">Parameters</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">pathloss_model_name</span><span class="o">=</span><span class="s2">&quot;InH&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="n">crrm</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="n">house_geom</span> <span class="o">=</span> <span class="n">Building</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_steps</span><span class="p">):</span>
<span class="linenos"> 6</span>  <span class="c1"># ... manual UE 3D mobility logic (bouncing off walls) ...</span>
<span class="linenos"> 7</span>  <span class="n">s_plus_Δs</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">Δs</span>
<span class="linenos"> 8</span>  <span class="c1"># ... logic to randomly change floors (s_plus_Δs[i, 2] = ...) ...</span>
<span class="linenos"> 9</span>  <span class="n">crrm</span><span class="o">.</span><span class="n">move_ue_locations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n_ues</span><span class="p">),</span> <span class="n">Δs</span><span class="p">)</span>
<span class="linenos">10</span>  <span class="n">throughputs</span> <span class="o">=</span> <span class="n">crrm</span><span class="o">.</span><span class="n">get_UE_throughputs</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="linenos">11</span>  <span class="c1"># ... matplotlib 3D plotting logic ...</span>
<span class="linenos">12</span>  <span class="n">draw_building_3d</span><span class="p">(</span><span class="n">house_geom</span><span class="p">,</span> <span class="n">dots</span><span class="o">=</span><span class="n">crrm</span><span class="o">.</span><span class="n">ue_locations</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="linenos">13</span>  <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">ue_loc</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">ue_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">ue_loc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">throughputs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1"> Mb/s&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="linenos">14</span>  <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ani/frame_</span><span class="si">{</span><span class="n">step</span><span class="si">:</span><span class="s1">04d</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
<span class="linenos">15</span>  <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ffmpeg ... &amp;&amp; xdg-open mp4/InH_test_ani.mp4&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The core logic is:</p>
<ol class="arabic simple">
<li><p>A <cite>Params</cite> instance is created, specifying the <code class="docutils literal notranslate"><span class="pre">InH</span></code> pathloss model.</p></li>
<li><p>A 3D building geometry is defined.</p></li>
<li><p>A main simulation loop begins, where custom code calculates the next UE position, including “bouncing” off the defined building walls and randomly triggering floor changes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">crrm.move_ue_locations()</span></code> is called with the new 3D positions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_UE_throughputs()</span></code> is called to get the performance at this new state.</p></li>
<li><p>A 3D plot is generated showing the building, cells, and UEs annotated with their throughputs.</p></li>
<li><p>The plot is saved as an animation frame.</p></li>
<li><p>After the loop, an <cite>ffmpeg</cite> command is printed to compile the frames into a video.</p></li>
</ol>
<p>Download script: <a class="reference download internal" download="" href="_downloads/0f2b83f552bce95fe7270a2e8f1a397c/CRRM_example_09_InH_3d.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_09_InH_3d.py</span></code></a></p>
<p>This script outputs a series of <code class="docutils literal notranslate"><span class="pre">.png</span></code> frames to the <code class="docutils literal notranslate"><span class="pre">ani/</span></code> directory and prints a command to compile and open the resulting <code class="docutils literal notranslate"><span class="pre">.mp4</span></code> video.</p>
<figure class="align-default" id="id8">
<img alt="CRRM_example_09_InH_3d_screenshot.png" src="_images/CRRM_example_09_InH_3d_screenshot.png" />
<figcaption>
<p><span class="caption-text">CRRM example 09: Indoor Hotspot with 3d geometry.</span><a class="headerlink" href="#id8" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="example-10-base-station-sectorization">
<h3>Example 10: Base-station sectorization<a class="headerlink" href="#example-10-base-station-sectorization" title="Link to this heading">¶</a></h3>
<p>This example computes an average throughput, firstly with one sector per base station, and then with three.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n_sectors</span><span class="o">=</span><span class="mi">1</span> <span class="n">average</span> <span class="n">UE</span> <span class="n">throughput</span> <span class="n">over</span> <span class="mi">100</span> <span class="n">UE</span> <span class="n">PPP</span> <span class="n">layouts</span> <span class="o">=</span> <span class="mf">4.22</span> <span class="n">Mb</span><span class="o">/</span><span class="n">s</span>
<span class="n">n_sectors</span><span class="o">=</span><span class="mi">3</span> <span class="n">average</span> <span class="n">UE</span> <span class="n">throughput</span> <span class="n">over</span> <span class="mi">100</span> <span class="n">UE</span> <span class="n">PPP</span> <span class="n">layouts</span> <span class="o">=</span> <span class="mf">8.23</span> <span class="n">Mb</span><span class="o">/</span><span class="n">s</span>
</pre></div>
</div>
<p>The layout plot indicates that the attachement is not to the nearest cell in the three-sector case.</p>
<figure class="align-default" id="id9">
<img alt="CRRM_example_10_sectors_layout.png" src="_images/CRRM_example_10_sectors_layout.png" />
<figcaption>
<p><span class="caption-text">CRRM example 10 sectors layout.</span><a class="headerlink" href="#id9" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Download script: <a class="reference download internal" download="" href="_downloads/b9c15c9b45dd521a17978245c2a7ee41/CRRM_example_10_sectors.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_10_sectors.py</span></code></a></p>
</section>
<section id="example-11-one-cell-throughput-tests">
<h3>Example 11: One-cell throughput tests<a class="headerlink" href="#example-11-one-cell-throughput-tests" title="Link to this heading">¶</a></h3>
<p>This example simply demonstrates that repeatedly adding UEs to a single cell results in throughputs inversely proportional to the number of UEs. See comments in the script for further details.</p>
<figure class="align-default" id="id10">
<img alt="CRRM_example_11_one-cell_throughput_tests_vs_number_equal_distance.png" src="_images/CRRM_example_11_one-cell_throughput_tests_vs_number_equal_distance.png" />
<figcaption>
<p><span class="caption-text">CRRM example 11 throughput tests.</span><a class="headerlink" href="#id10" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Download script: <a class="reference download internal" download="" href="_downloads/193065343db27f74018ccb9030738286/CRRM_example_11_one-cell_throughput_tests.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_11_one-cell_throughput_tests.py</span></code></a></p>
</section>
<section id="example-12-signal-to-interference-ratio-cumulative-distribution">
<h3>Example 12: Signal-to-Interference ratio cumulative distribution<a class="headerlink" href="#example-12-signal-to-interference-ratio-cumulative-distribution" title="Link to this heading">¶</a></h3>
<p>This example simply demonstrates a close match to a theoretical cumulative distribution in the case of both cells and UEs randomly distributed according to a Poisson Point Process (PPP). See comments in the script for further details.</p>
<p>Reference: Haenggi, <em>Stochastic Geometry for Wireless Networks</em>, CUP 2013, section 5.2.</p>
<figure class="align-default" id="id11">
<img alt="CRRM_example_12_sinr_cdf.png" src="_images/CRRM_example_12_sinr_cdf.png" />
<figcaption>
<p><span class="caption-text">CRRM example 12 SIR cumulative distribution.</span><a class="headerlink" href="#id11" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Download script: <a class="reference download internal" download="" href="_downloads/6469daea8ae523198677d15eb2e2241f/CRRM_example_12_sinr_cdf.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_12_sinr_cdf.py</span></code></a></p>
</section>
<section id="example-13-timing-tests">
<h3>Example 13: Timing tests<a class="headerlink" href="#example-13-timing-tests" title="Link to this heading">¶</a></h3>
<p>This script is able to run a variety of tests demonstrating the speed-ups attainable by using the smart updating algorithm in the CRRM kernel. An important check which it performs is that the smart updating gives identical results to the non-smart. It can also make an animation. See comments in the script for further details.</p>
<p>Typical console output is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Without smart updating:
sinr for subband[0]=[-3.598  3.415 -2.172  1.317 -1.293 ... ] dB
se_Shannon for subband[0]=[0.523 1.676 0.684 1.235 0.801 ...]

With smart updating:
sinr for subband[0]=[-3.598  3.415 -2.172  1.317 -1.293 ... ] dB
se_Shannon for subband[0]=[0.523 1.676 0.684 1.235 0.801 ...]

The smart and the non-smart results match!
speed-up factor=1.84 😁
</pre></div>
</div>
<p>Download script: <a class="reference download internal" download="" href="_downloads/ad9b89c8cc2691814daccd76938a8493/CRRM_example_13_timing_tests.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_13_timing_tests.py</span></code></a></p>
</section>
<section id="example-14-fading-demonstration">
<h3>Example 14: Fading demonstration<a class="headerlink" href="#example-14-fading-demonstration" title="Link to this heading">¶</a></h3>
<p>A demonstration of the effects of different types of fading on a cell-edge user.</p>
<figure class="align-default" id="id12">
<img alt="CRRM_example_14_fading_tests" src="_images/CRRM_example_14_fading_tests.png" />
<figcaption>
<p><span class="caption-text">CRRM example 14: fading.</span><a class="headerlink" href="#id12" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Download script: <a class="reference download internal" download="" href="_downloads/aa3d16020d6401d6890688aa2d56e8c7/CRRM_example_14_fading_tests.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_14_fading_tests.py</span></code></a></p>
</section>
<section id="example-15-mimo">
<h3>Example 15: MIMO<a class="headerlink" href="#example-15-mimo" title="Link to this heading">¶</a></h3>
<p>CRRM 2.0 implements MIMO only  for computing channel spectral efficiency; the UE throughput computations based on MCS selection are unaffected by this setting.</p>
<p>This example simply sets up a system with several different MIMO schemes, and prints the predicted UE spectral efficiencies.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">CRRM</span><span class="w"> </span><span class="kn">import</span> <span class="n">Simulator</span><span class="p">,</span> <span class="n">Parameters</span>
<span class="k">for</span> <span class="n">MIMO</span> <span class="ow">in</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">64</span><span class="p">,</span><span class="mi">64</span><span class="p">),):</span>
  <span class="n">crrm</span><span class="o">=</span><span class="n">Simulator</span><span class="p">(</span><span class="n">Parameters</span><span class="p">(</span><span class="n">n_ues</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">MIMO</span><span class="o">=</span><span class="n">MIMO</span><span class="p">))</span>
  <span class="n">se</span><span class="o">=</span><span class="n">crrm</span><span class="o">.</span><span class="n">get_spectral_efficiency</span><span class="p">(</span><span class="n">ues</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,),</span><span class="n">subbands</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
  <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MIMO=</span><span class="si">{</span><span class="n">MIMO</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">se</span><span class="si">}</span><span class="s2"> b/s/Hz&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This code prints:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MIMO</span><span class="o">=</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">)</span> <span class="p">[</span>  <span class="mf">4.6</span>    <span class="mf">4.53</span>   <span class="mf">2.63</span>  <span class="mf">1.76</span>  <span class="mf">1.27</span>  <span class="mf">1.43</span><span class="p">]</span> <span class="n">b</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">Hz</span>
<span class="n">MIMO</span><span class="o">=</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">)</span> <span class="p">[</span>  <span class="mf">7.51</span>   <span class="mf">7.37</span>   <span class="mf">4.2</span>   <span class="mf">2.85</span>  <span class="mf">2.1</span>   <span class="mf">2.35</span><span class="p">]</span> <span class="n">b</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">Hz</span>
<span class="n">MIMO</span><span class="o">=</span><span class="p">(</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">4</span><span class="p">)</span> <span class="p">[</span> <span class="mf">14.76</span>  <span class="mf">14.49</span>   <span class="mf">8.31</span>  <span class="mf">5.66</span>  <span class="mf">4.17</span>  <span class="mf">4.66</span><span class="p">]</span> <span class="n">b</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">Hz</span>
<span class="n">MIMO</span><span class="o">=</span><span class="p">(</span> <span class="mi">8</span><span class="p">,</span>  <span class="mi">2</span><span class="p">)</span> <span class="p">[</span>  <span class="mf">8.85</span>   <span class="mf">8.7</span>    <span class="mf">5.0</span>   <span class="mf">3.35</span>  <span class="mf">2.42</span>  <span class="mf">2.72</span><span class="p">]</span> <span class="n">b</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">Hz</span>
<span class="n">MIMO</span><span class="o">=</span><span class="p">(</span> <span class="mi">8</span><span class="p">,</span>  <span class="mi">4</span><span class="p">)</span> <span class="p">[</span> <span class="mf">16.87</span>  <span class="mf">16.57</span>   <span class="mf">9.45</span>  <span class="mf">6.33</span>  <span class="mf">4.6</span>   <span class="mf">5.17</span><span class="p">]</span> <span class="n">b</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">Hz</span>
<span class="n">MIMO</span><span class="o">=</span><span class="p">(</span> <span class="mi">8</span><span class="p">,</span>  <span class="mi">8</span><span class="p">)</span> <span class="p">[</span> <span class="mf">29.38</span>  <span class="mf">28.86</span>  <span class="mf">16.58</span> <span class="mf">11.29</span>  <span class="mf">8.33</span>  <span class="mf">9.31</span><span class="p">]</span> <span class="n">b</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">Hz</span>
<span class="n">MIMO</span><span class="o">=</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span> <span class="p">[</span><span class="mf">234.72</span> <span class="mf">230.55</span> <span class="mf">132.56</span> <span class="mf">90.3</span>  <span class="mf">66.59</span> <span class="mf">74.48</span><span class="p">]</span> <span class="n">b</span><span class="o">/</span><span class="n">s</span><span class="o">/</span><span class="n">Hz</span>
</pre></div>
</div>
<p>Download full script: <a class="reference download internal" download="" href="_downloads/853939636dfad5b61c7cdbca5a762f9d/CRRM_example_15_MIMO.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_15_MIMO.py</span></code></a></p>
</section>
<section id="example-16-callback-demo">
<h3>Example 16: callback demo<a class="headerlink" href="#example-16-callback-demo" title="Link to this heading">¶</a></h3>
<p>This is a very simple example of how to use the callback facility for user access to internal CRRM data during a simulation run.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">CRRM</span><span class="w"> </span><span class="kn">import</span> <span class="n">Simulator</span><span class="p">,</span> <span class="n">Parameters</span>
<span class="k">def</span><span class="w"> </span><span class="nf">show_attachments</span><span class="p">(</span><span class="n">a</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;attachment_vector = </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">crrm</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">(</span><span class="n">Parameters</span><span class="p">(</span><span class="n">n_ues</span><span class="o">=</span><span class="mi">20</span><span class="p">))</span>
<span class="n">crrm</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">set_callback</span><span class="p">(</span><span class="n">show_attachments</span><span class="p">)</span>
<span class="n">crrm</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
<p>This code prints the following. The meaning of the attachment_vector is that UE[i] is attached to cell[attachment_vector[i]].</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">attachment_vector</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">4</span> <span class="mi">4</span> <span class="mi">2</span> <span class="mi">5</span> <span class="mi">3</span> <span class="mi">1</span> <span class="mi">5</span> <span class="mi">3</span> <span class="mi">5</span> <span class="mi">3</span> <span class="mi">6</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>Download full script: <a class="reference download internal" download="" href="_downloads/91cc8e5d410345ab31a1946624a8f592/CRRM_example_16_callback_demo.py"><code class="xref download docutils literal notranslate"><span class="pre">CRRM_example_16_callback_demo.py</span></code></a></p>
<hr width="100%"></section>
</section>
<section id="crrm-internal-structure-and-mathematical-model">
<h2>CRRM internal structure and mathematical model<a class="headerlink" href="#crrm-internal-structure-and-mathematical-model" title="Link to this heading">¶</a></h2>
<p>Most users do not need to know anything about this.</p>
<ul class="simple">
<li><p>UE locations <span class="math notranslate nohighlight">\(u_i\)</span> (one row per UE, three columns <span class="math notranslate nohighlight">\(x,y,x\)</span>).</p></li>
<li><p>Cells locations <span class="math notranslate nohighlight">\(c_j\)</span> (one row per cell, three columns <span class="math notranslate nohighlight">\(x,y,x\)</span>)</p></li>
<li><p><span class="math notranslate nohighlight">\(\text{Cell}_j\)</span> transmits with power <span class="math notranslate nohighlight">\(p_j\)</span> (<span class="math notranslate nohighlight">\(p_{jk}\)</span> with subbands).</p></li>
<li><p>Distance matrix <span class="math notranslate nohighlight">\(D_{ij}=||u_i-c_j||\)</span>.</p></li>
<li><p>Attachment vector: <span class="math notranslate nohighlight">\(\text{UE}_i\)</span> attaches to cell <span class="math notranslate nohighlight">\(a_j\)</span> with best signal.</p></li>
<li><p>Gain matrix <span class="math notranslate nohighlight">\(G=g(D)\)</span> (<span class="math notranslate nohighlight">\(\implies0&lt;G&lt;1\)</span>).</p></li>
<li><p>RSRP matrix <span class="math notranslate nohighlight">\(R_{ij}=p_j G_{ij}\)</span>.</p></li>
<li><p>With subbands: <span class="math notranslate nohighlight">\(R_{ijk}=p_{jk} G_{ij}\)</span>.</p></li>
<li><p>Wanted signal vector <span class="math notranslate nohighlight">\(w_i=R_{i,a_i}\)</span>.</p></li>
<li><p>Unwanted interference vector <span class="math notranslate nohighlight">\(u_i=\sum_j R_{ij}-w_i\)</span>.</p></li>
<li><p>SINR vector <span class="math notranslate nohighlight">\(\gamma=\frac{w}{\sigma^2+u}\)</span> (element-wise division).</p></li>
<li><p>CQI is computed by discretizing the SINR.</p></li>
<li><p>MCS selection is done by standard look-up tables.</p></li>
<li><p>Resource allocation and throughput calculation are done by the function <a class="reference internal" href="#CRRM.Simulator.get_UE_throughputs" title="CRRM.Simulator.get_UE_throughputs"><code class="xref any py py-func docutils literal notranslate"><span class="pre">CRRM.Simulator.get_UE_throughputs</span></code></a> and the class <a class="reference internal" href="#CRRM.Throughput" title="CRRM.Throughput"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CRRM.Throughput</span></code></a> documented below.</p></li>
</ul>
<p>The horizontal arrows in the block diagram below indicate dependencies of one block upon others. Blocks drawn with the same height have the same numbers of rows (<span class="math notranslate nohighlight">\(n_{\text{UEs}}\)</span>), and blocks drawn with the same width have the same numbers of columns (either <span class="math notranslate nohighlight">\(n_{\text{cells}}\)</span>, or 1). Stacks indicate the third dimension, which stores the data for each subband.</p>
<figure class="align-default" id="id13">
<a class="reference internal image-reference" href="_images/CRRM_block_diagram.png"><img alt="CRRM block diagram" src="_images/CRRM_block_diagram.png" style="width: 750.0px; height: 400.0px;" />
</a>
<figcaption>
<p><span class="caption-text">CRRM simulator block structure.</span><a class="headerlink" href="#id13" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id14">
<a class="reference internal image-reference" href="_images/CRRM_block_diagram_with_strip.png"><img alt="CRRM block diagram with strip" src="_images/CRRM_block_diagram_with_strip.png" style="width: 750.0px; height: 400.0px;" />
</a>
<figcaption>
<p><span class="caption-text">CRRM simulator block structure, with the horizontal red strip showing the rows of vectors and matrices which are updated when a UE moves.</span><a class="headerlink" href="#id14" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<hr></section>
<section id="api-reference">
<h2>API reference<a class="headerlink" href="#api-reference" title="Link to this heading">¶</a></h2>
<section id="crrm-module">
<h3>CRRM module<a class="headerlink" href="#crrm-module" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">CRRM.</span></span><span class="sig-name descname"><span class="pre">get_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Get the version number of the CRRM module.</p>
</dd></dl>

</section>
<section id="node-class">
<h3>_Node class<a class="headerlink" href="#node-class" title="Link to this heading">¶</a></h3>
<p>Generic base class for smart updating of node data.
Not for direct use by a normal user</p>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">CRRM._Node.</span></span><span class="sig-name descname"><span class="pre">set_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Register user function f to be called with self.data as argument at every update. Inherited by all subclasses.</p>
</dd></dl>

</section>
<section id="module-CRRM.Parameters">
<span id="parameters-class"></span><h3>Parameters class<a class="headerlink" href="#module-CRRM.Parameters" title="Link to this heading">¶</a></h3>
<p>Container for physical, behavioral, and visualization parameters of a CRRM
(Cellular Radio Reference Model) simulation.  This class encapsulates
metadata, system geometry, physical layer parameters, pathloss modeling
options, UE mobility control, animation settings, and display preferences.</p>
<p><strong>Important</strong>: the parameters class is used to set the <em>initial</em> conditions for the simulation. If these are changed during a simulation run, it is not safe to assume that the new values will be used by the simulation kernel. For only a few parameters is it meaningful to change them during a run, and for these methods with names like  <a class="reference internal" href="#CRRM.Simulator.set_power_matrix" title="CRRM.Simulator.set_power_matrix"><code class="xref any py py-func docutils literal notranslate"><span class="pre">CRRM.Simulator.set_power_matrix()</span></code></a> methods are provided. See the documentation on all available such methods under <a class="reference internal" href="#module-CRRM.Simulator" title="CRRM.Simulator"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">Simulator</span></code></a> below.</p>
<section id="metadata-parameters">
<h4>Metadata parameters<a class="headerlink" href="#metadata-parameters" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>job<span class="classifier">int = 0</span></dt><dd><p>User-defined job ID.</p>
</dd>
<dt>description<span class="classifier">str = ‘’</span></dt><dd><p>User-defined problem description.</p>
</dd>
<dt>author<span class="classifier">str = ‘’</span></dt><dd><p>Simulation author.</p>
</dd>
<dt>date_time<span class="classifier">str (= current local date and time)</span></dt><dd><p>Timestamp of configuration creation.</p>
</dd>
</dl>
</section>
<section id="simulation-control-parameters">
<h4>Simulation control parameters<a class="headerlink" href="#simulation-control-parameters" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>rng_seeds<span class="classifier">int or (int,int,int) = 0</span></dt><dd><p>Seeds for the three random-number generators, used for
UE movements, shadow fading, and Rayleigh fading respectively.</p>
</dd>
<dt>smart_update<span class="classifier">bool = True</span></dt><dd><p>If True, enable optimized internal updates.</p>
</dd>
<dt>verbose<span class="classifier">bool = False</span></dt><dd><p>If True, print general simulation debug information.</p>
</dd>
<dt>do_asserts<span class="classifier">bool = False</span></dt><dd><p>If True, enable runtime assertions for debugging.</p>
</dd>
<dt>display_flat<span class="classifier">bool = False</span></dt><dd><p>If True, display parameters in a single-line format.</p>
</dd>
<dt>display_colored<span class="classifier">bool = True</span></dt><dd><p>If True, use colored output when printing parameters.</p>
</dd>
<dt>omit_from_display<span class="classifier">tuple = (‘cell_locations’,’ue_locations’,’power_matrix’)</span></dt><dd><p>Fields to exclude from parameter display output.</p>
</dd>
</dl>
</section>
<section id="system-geometry-and-technology-parameters">
<h4>System geometry and technology parameters<a class="headerlink" href="#system-geometry-and-technology-parameters" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>n_cell_locations<span class="classifier">int = 7</span></dt><dd><p>Number of base station (cell) locations.</p>
</dd>
<dt>n_ues<span class="classifier">int = 50</span></dt><dd><p>Number of user equipment (UEs).</p>
</dd>
<dt>ue_initial_locations<span class="classifier">None</span></dt><dd><p>Placeholder for UE positions (to be populated later).</p>
</dd>
<dt>cell_locations<span class="classifier">None</span></dt><dd><p>Placeholder for cell positions (to be populated later).</p>
</dd>
<dt>system_area<span class="classifier">float</span></dt><dd><p>Area of the system (computed at initialization).</p>
</dd>
<dt>h_UT_default<span class="classifier">float = 1.8</span></dt><dd><p>Default height of a user terminal (meters).</p>
</dd>
<dt>h_BS_default<span class="classifier">float = 20.0</span></dt><dd><p>Default height of a base station (meters).</p>
</dd>
<dt>fc_GHz<span class="classifier">float = 3.5</span></dt><dd><p>Carrier frequency in GHz.</p>
</dd>
<dt>bw_MHz<span class="classifier">float = 20.0</span></dt><dd><p>Channel bandwidth in MHz.</p>
</dd>
<dt>σ2<span class="classifier">float = 2.0e-20 W/Hz</span></dt><dd><p>Noise power spectral density</p>
</dd>
<dt>n_subbands<span class="classifier">int = 1</span></dt><dd><p>Number of subbands.</p>
</dd>
<dt>n_sectors<span class="classifier">int = 1</span></dt><dd><p>Number of sectors per base station.</p>
</dd>
<dt>distance_scale<span class="classifier">float = 1e3</span></dt><dd><p>Spatial scaling factor (e.g., 1000 for km to meters).</p>
</dd>
<dt>p_W<span class="classifier">float = 100.0</span></dt><dd><p>Transmit power in Watts.</p>
</dd>
<dt>power_matrix<span class="classifier">NDArray</span></dt><dd><p>Matrix of transmit powers across subbands (populated during initialization).</p>
</dd>
<dt>MIMO<span class="classifier">None|tuple[int]</span></dt><dd><p>Order (t,r) of the MIMO scheme, where t is the number of transmit antennas, and r the number of receive antennas. CRRM 2.0 implements MIMO only for computing channel spectral efficiency; the UE throughput computations based on MCS selection are unaffected by this setting.</p>
</dd>
<dt>MCS_table_number<span class="classifier">int = 2</span></dt><dd><p>Index of the modulation and coding scheme table (most users will not need to change this).</p>
</dd>
<dt>resource_allocation_fairness<span class="classifier">float = 0.0</span></dt><dd><p>Fairness factor (0.0 = proportional fair scheduling).</p>
</dd>
</dl>
</section>
<section id="pathloss-model-parameters">
<h4>Pathloss model parameters<a class="headerlink" href="#pathloss-model-parameters" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>pathloss_model_name<span class="classifier">str = ‘UMa’</span></dt><dd><p>Name of the 3GPP pathloss model: options are ‘UMa’ (Urban Macrocell), ‘UMi’ (Urban Microcell), ‘RMa_discretised’ (Rural Macrocell, the fastest implementation, recommended for general rural use), ‘RMa’ (slower), ‘RMa_constant_height’ (for use when all cell and all UEs have the same height above ground), ‘InH’ (Indoor Hotspot), and ‘power-law’ (simple model for comparison purposes only).</p>
</dd>
<dt>pathloss_model<span class="classifier">None or str</span></dt><dd><p>Pathloss model instance (assigned during set-up, not by the user).</p>
</dd>
<dt>pathgain_function<span class="classifier">Callable[[NDArray, NDArray], float]</span></dt><dd><p>Function to compute path gain between transmitter and receiver (assigned during set-up, not by the user).</p>
</dd>
<dt>pathloss_exponent<span class="classifier">float = 3.0</span></dt><dd><p>Pathloss exponent, used only for the power-law pathloss model.</p>
</dd>
<dt>LOS<span class="classifier">bool = True</span></dt><dd><p>Whether line-of-sight conditions are assumed.</p>
</dd>
<dt>shadow_fading<span class="classifier">bool = False</span></dt><dd><p>If true, shadow fading is used in the pathloss models.</p>
</dd>
<dt>rayleigh_fading<span class="classifier">bool = False</span></dt><dd><p>If true, Rayleigh fading is used in the pathloss models.</p>
</dd>
</dl>
</section>
<section id="ue-mobility-parameters">
<h4>UE mobility parameters<a class="headerlink" href="#ue-mobility-parameters" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>n_moves<span class="classifier">int = 1000</span></dt><dd><p>Number of UE movement steps in the simulation.</p>
</dd>
<dt>move_fraction<span class="classifier">float = 0.1</span></dt><dd><p>Fraction of UEs that move during each step.</p>
</dd>
<dt>move_mean<span class="classifier">float = 0.0</span></dt><dd><p>Mean movement distance (meters).</p>
</dd>
<dt>move_stdev<span class="classifier">float = 10.0</span></dt><dd><p>Standard deviation of movement (meters).</p>
</dd>
</dl>
</section>
<section id="layout-plotting-parameters">
<h4>Layout plotting parameters<a class="headerlink" href="#layout-plotting-parameters" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>layout_plot_fnbase<span class="classifier">str = ‘img/CRRM_layout_plot’</span></dt><dd><p>Base filename for layout plot image output.</p>
</dd>
<dt>label_ues_in_layout_plot<span class="classifier">bool = False</span></dt><dd><p>Whether to label UEs in the layout plot.</p>
</dd>
<dt>frame_interval<span class="classifier">int = 0</span></dt><dd><p>Time between animation frames (0 disables animation).</p>
</dd>
</dl>
</section>
</section>
<section id="module-CRRM.Simulator">
<span id="simulator-class"></span><h3>Simulator class<a class="headerlink" href="#module-CRRM.Simulator" title="Link to this heading">¶</a></h3>
<p>Main class representing a cellular system, and computing all
internal performance data. It takes one argument of type CRRM_parameters.</p>
<p>The simulator internally uses a list of three random number generators,
each with their own seed.  This allows for fading to be switched on and off
but not affect UE moves.</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>rng[0]</cite>: used for moving UEs</p></li>
<li><p><cite>rng[1]</cite>: used for shadow fading</p></li>
<li><p><cite>rng[2]</cite>: used for Rayleigh fading</p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.add_ue">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">add_ue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.add_ue" title="Link to this definition">¶</a></dt>
<dd><p>Add one UE to the system, at the given location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>location</strong> (<em>a 3-vector representing the</em><em> (</em><em>x</em><em>,</em><em>y</em><em>,</em><em>z</em><em>) </em><em>coordinates</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.change_power_matrix">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">change_power_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltas</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.change_power_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Shift some or all rows of the power matrix, by the given deltas.
To reset all powers, use <a class="reference internal" href="#CRRM.Simulator.set_power_matrix" title="CRRM.Simulator.set_power_matrix"><code class="xref any py py-func docutils literal notranslate"><span class="pre">CRRM.Simulator.set_power_matrix()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<em>a list</em><em> of </em><em>cell indices</em><em>, or </em><em>'all'</em>)</p></li>
<li><p><strong>deltas</strong> (<em>float</em><em>, or </em><em>2d array</em><em> (</em><em>one row for each index</em><em>, </em><em>one column per subband</em><em>)</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.get_UE_throughputs">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">get_UE_throughputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ues</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subbands</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.get_UE_throughputs" title="Link to this definition">¶</a></dt>
<dd><p>Get the current UE throughputs for specified lists of ues  (default all UEs), and of subbands (default all subbands).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.get_power_matrix">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">get_power_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.get_power_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Return a reference to the current power matrix.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.get_resource_allocation_fairness">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">get_resource_allocation_fairness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.get_resource_allocation_fairness" title="Link to this definition">¶</a></dt>
<dd><p>Get the current resource allocation fairness parameter.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.get_rngs">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">get_rngs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.get_rngs" title="Link to this definition">¶</a></dt>
<dd><p>Get the current rngs, or some or one of them.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.get_ue_locations">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">get_ue_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.get_ue_locations" title="Link to this definition">¶</a></dt>
<dd><p>Get the current UE locations.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.layout_plot">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">layout_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_attachment_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'attachment'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_voronoi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_kilometres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_system_rmax_circle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_UE_radius_circle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_pathloss_circles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">UE_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_image_zoom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">UE_image_zoom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('png',</span> <span class="pre">'pdf')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_ticks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dbg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(6,</span> <span class="pre">6)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_ues</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.layout_plot" title="Link to this definition">¶</a></dt>
<dd><p>Plot the cellular reference model layout with various optional overlays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to display grid lines on the plot.</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – Title for the plot.</p></li>
<li><p><strong>fnbase</strong> (<em>str</em><em>, </em><em>optional</em>) – Base filename for saving the plot.</p></li>
<li><p><strong>show_attachment_type</strong> (<em>str</em><em>, </em><em>optional</em>) – If not empty, show UE-to-cell attachment lines.</p></li>
<li><p><strong>show_plot</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, display the plot interactively.</p></li>
<li><p><strong>show_voronoi</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, overlay Voronoi tessellation of cell locations.</p></li>
<li><p><strong>padding_factor</strong> (<em>float</em><em>, </em><em>optional</em>) – Factor to expand plot limits beyond system radius.</p></li>
<li><p><strong>show_kilometres</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, display axes in kilometres.</p></li>
<li><p><strong>show_system_rmax_circle</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, draw a circle at the system maximum radius.</p></li>
<li><p><strong>show_UE_radius_circle</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, draw a circle at the UE radius.</p></li>
<li><p><strong>show_pathloss_circles</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, overlay circles for specific pathloss values.</p></li>
<li><p><strong>cell_image</strong> (<em>array-like</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Image to use for cell markers.</p></li>
<li><p><strong>UE_image</strong> (<em>array-like</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Image to use for UE markers.</p></li>
<li><p><strong>cell_image_zoom</strong> (<em>float</em><em>, </em><em>optional</em>) – Zoom factor for cell images.</p></li>
<li><p><strong>UE_image_zoom</strong> (<em>float</em><em>, </em><em>optional</em>) – Zoom factor for UE images.</p></li>
<li><p><strong>return_figure</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, return the plot object instead of saving.</p></li>
<li><p><strong>fmt</strong> (<em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – List of file formats for saving the plot.</p></li>
<li><p><strong>dbg</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, print debug information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>plot</strong> – The plot object if <cite>return_figure</cite> is True, otherwise None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Plot_CRRM_layout or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.move_ue_locations">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">move_ue_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltas</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.move_ue_locations" title="Link to this definition">¶</a></dt>
<dd><p>Move UEs with given indices, by the given deltas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<em>a list</em><em> of </em><em>UE indices</em><em>, or </em><em>'all'</em>)</p></li>
<li><p><strong>deltas</strong> (<em>an array</em><em> of </em><em>shape</em><em> (</em><em>len</em><em>(</em><em>indices</em><em>)</em><em>,</em><em>3</em><em>) </em><em>representing the displacements</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.scale_ue_locations">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">scale_ue_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.scale_ue_locations" title="Link to this definition">¶</a></dt>
<dd><p>Scale UEs with given indices, by the given factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<em>a list</em><em> of </em><em>UE indices</em><em>, or </em><em>'all'</em>)</p></li>
<li><p><strong>scale_factor</strong> (<em>float</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.set_n_sectors">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">set_n_sectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sectors</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.set_n_sectors" title="Link to this definition">¶</a></dt>
<dd><p>Set the number of sectors for all base stations.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.set_noise_power_spectral_density">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">set_noise_power_spectral_density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">σ2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.set_noise_power_spectral_density" title="Link to this definition">¶</a></dt>
<dd><p>Set the noise power spectral density to a new value. The actual noise power in the channel or subbands will be computed and used in subsequent SIR calculations.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.set_power_matrix">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">set_power_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.set_power_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Set the power matrix to a new value. The matrix must have shape (n_cell_locations,n_subbands). It will be repeated across sectors if there are more than 1. To change just some cell powers by given deltas, use <a class="reference internal" href="#CRRM.Simulator.change_power_matrix" title="CRRM.Simulator.change_power_matrix"><code class="xref any py py-func docutils literal notranslate"><span class="pre">CRRM.Simulator.change_power_matrix()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.set_resource_allocation_fairness">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">set_resource_allocation_fairness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.set_resource_allocation_fairness" title="Link to this definition">¶</a></dt>
<dd><p>Set the resource allocation fairness parameter.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.set_rng_seeds">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">set_rng_seeds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seeds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.set_rng_seeds" title="Link to this definition">¶</a></dt>
<dd><p>Re-set the rngs with a new seeds.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CRRM.Simulator.set_ue_locations">
<span class="sig-prename descclassname"><span class="pre">CRRM.Simulator.</span></span><span class="sig-name descname"><span class="pre">set_ue_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locations</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Simulator.set_ue_locations" title="Link to this definition">¶</a></dt>
<dd><p>Set the UE locations to new values.</p>
</dd></dl>

<dl class="py class" id="module-CRRM">
<dt class="sig sig-object py" id="CRRM.Throughput">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CRRM.</span></span><span class="sig-name descname"><span class="pre">Throughput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crrm_parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Throughput'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smart_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Throughput" title="Link to this definition">¶</a></dt>
<dd><p>Calculate all UE throughputs, with a tunable resource allocation heuristic.
Though this class is for internal use only, the internal details are of some interest.  Authors: Keith Briggs &amp; Ibrahim Nur 2025-09-04.</p>
<p>This model allocates a share of the total bandwidth to each user
in proportion to an abstract notion of their cost, and then calculates
the resulting throughput.</p>
<p>The cost for user <em>i</em> is defined as <span class="math notranslate nohighlight">\(1/S_i^p\)</span>, where <span class="math notranslate nohighlight">\(S_i\)</span> is the
user’s spectral efficiency and <span class="math notranslate nohighlight">\(p\)</span> is a tunable fairness parameter.</p>
<p>This leads to the final throughput formula for user <span class="math notranslate nohighlight">\(i\)</span>:</p>
<div class="math notranslate nohighlight">
\[T_i = a S_i^{1-p}\]</div>
<p>where <span class="math notranslate nohighlight">\(a\)</span> is a proportionality constant calculated for the cell:</p>
<p><span class="math notranslate nohighlight">\(a\)</span> = (total bandwidth) <span class="math notranslate nohighlight">\(/\)</span> (sum of all user costs)</p>
<p>The fairness parameter <span class="math notranslate nohighlight">\(p\)</span> controls the distribution skew as follows:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(p &gt; 1\)</span>: favours weak users (e.g., <span class="math notranslate nohighlight">\(p=2\)</span> gives <span class="math notranslate nohighlight">\(T ∝ 1/S\)</span>).</p></li>
<li><p><span class="math notranslate nohighlight">\(p = 1\)</span>: results in equal throughput for all users on the cell.</p></li>
<li><p><span class="math notranslate nohighlight">\(p &lt; 1\)</span>: favours strong users (e.g., <span class="math notranslate nohighlight">\(p=0\)</span> gives <span class="math notranslate nohighlight">\(T ∝ S\)</span>).</p></li>
<li><p><span class="math notranslate nohighlight">\(p = 0\)</span>: proportional fair scheduling.</p></li>
</ul>
<p>The parameter <span class="math notranslate nohighlight">\(p\)</span> is set in the <code class="xref py py-class docutils literal notranslate"><span class="pre">CRRM_parameters</span></code> class, and can be changed during a run using the <cite>CRRM.set_resource_allocation_fairness()</cite> method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="CRRM.Throughput.update_data">
<span class="sig-name descname"><span class="pre">update_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CRRM.Throughput.update_data" title="Link to this definition">¶</a></dt>
<dd><p>This will be over-ridden by specific methods for each sub-class</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-CRRM.Logger">
<span id="logger-class"></span><h3>Logger class<a class="headerlink" href="#module-CRRM.Logger" title="Link to this heading">¶</a></h3>
<p>Create an object which will log data during a simulation run.</p>
<dl class="field-list simple">
<dt class="field-odd">param captures<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>‘UE_location’</p></li>
<li><p>‘rsrp’ (received signal reference power)</p></li>
<li><p>‘a’ (attachment vector)</p></li>
<li><p>‘sinr’ (signal to interference plus noise matrix in dB)</p></li>
<li><p>‘se_Shannon’ (Shannon capacity in b/s/Hz)</p></li>
<li><p>‘cqi’ (channel quality index)</p></li>
<li><p>‘mcs’ (modulation and coding scheme index)</p></li>
<li><p>‘se_from_mcs’ (actual spectral efficiency in b/s/Hz)</p></li>
<li><p>‘tp’ (UE downlink throughput in Mb/s)</p></li>
</ul>
</dd>
<dt class="field-even">type captures<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple of strings. The allowed values are:</p>
</dd>
<dt class="field-odd">param ues<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type ues<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple of UE indices</p>
</dd>
<dt class="field-odd">param block_size<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type block_size<span class="colon">:</span></dt>
<dd class="field-even"><p>int, size of pre-allocated internal data. Not normally altered.</p>
</dd>
</dl>
</section>
<section id="module-CRRM.Antenna_gain">
<span id="antenna-gain-class"></span><h3>Antenna_gain class<a class="headerlink" href="#module-CRRM.Antenna_gain" title="Link to this heading">¶</a></h3>
<p>Calculates the antenna gain (not in dB) based on the 3GPP standard horizontal pattern.</p>
<p>This method applies a sectored antenna pattern as defined in 3GPP TR 38.901.
The gain for each UE-cell link is determined by the absolute angular
difference between the UE’s direction and the sector’s boresight. If the
simulation is configured with only one sector per cell, a constant
omnidirectional gain is applied instead.</p>
<p>The horizontal attenuation (in dB) is given by the formula:</p>
<div class="math notranslate nohighlight">
\[A_H(\phi') = -\min\left(12 \left(\frac{\phi'}{\phi_\text{3dB}}\right)^2, A_\text{max}\right)\]</div>
<p>where <span class="math notranslate nohighlight">\(\phi'\)</span> is the angular deviation from the boresight.</p>
<dl class="field-list simple">
<dt class="field-odd">param φ<span class="colon">:</span></dt>
<dd class="field-odd"><p>An array of horizontal angles <span class="math notranslate nohighlight">\(\phi\)</span> (in radians) from each cell to each UE. Its shape must be broadcastable with the internal array of sector angles.</p>
</dd>
<dt class="field-even">type φ<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>An array of linear (i.e., not in dB) gain values for each UE-cell link as type numpy.ndarray.</p>
</dd>
</dl>
<section id="reference">
<h4>Reference<a class="headerlink" href="#reference" title="Link to this heading">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li><p>3GPP TR 38.901, Table 7.3-1</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="module-RMa_pathloss_model_08">
<span id="rma-rural-macrocell-pathloss-model"></span><h3>RMa (Rural Macrocell) pathloss model<a class="headerlink" href="#module-RMa_pathloss_model_08" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">RMa_pathloss_model_08.</span></span><span class="sig-name descname"><span class="pre">RMa_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>The complete Rural Macrocell (RMa) pathloss model from 3GPP TR 38.901.</p>
<p>Implements the full RMa model where antenna heights can vary for each
link, calculating pathloss coefficients dynamically.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>3GPP TR 38.901: <a class="reference external" href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialises the RMa_pathloss model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Centre frequency in GHz. Must be &lt;= 7 GHz. Defaults to 3.5.</p></li>
<li><p><strong>LOS</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether to use the Line-of-Sight model.
Defaults to True.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments for API compatibility.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss.get_pathgain">
<span class="sig-name descname"><span class="pre">get_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss.get_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathgain.</p>
<p>Pathgain is the reciprocal of the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The linear pathgain for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss.get_pathloss">
<span class="sig-name descname"><span class="pre">get_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss.get_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathloss based on the general 3GPP RMa model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations, shape (n_ues, 3). The 3rd column (height)
must be in the range [1.0, 10.0].</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations, shape (n_cells, 3). The 3rd column (height)
must be in the range [10.0, 150.0].</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any <cite>h_UT</cite> or <cite>h_BS</cite> value is outside its valid range.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The calculated linear pathloss for each UE-cell link.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss.get_pathloss_dB">
<span class="sig-name descname"><span class="pre">get_pathloss_dB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss.get_pathloss_dB" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the pathloss in decibels (dB).</p>
<p>This is a convenience wrapper around <a class="reference internal" href="#RMa_pathloss_model_08.RMa_pathloss.get_pathloss" title="RMa_pathloss_model_08.RMa_pathloss.get_pathloss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pathloss()</span></code></a> that converts
the linear pathloss value to the dB scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres between UEs and cells. Does not take into account height.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations. Not used in calculation.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations. Not used in calculation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pathloss in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_constant_height">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">RMa_pathloss_model_08.</span></span><span class="sig-name descname"><span class="pre">RMa_pathloss_constant_height</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_UT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_BS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_constant_height" title="Link to this definition">¶</a></dt>
<dd><p>Rural Macrocell (RMa) pathloss model assuming constant antenna heights.</p>
<p>Simplified version of the 3GPP TR 38.901 RMa model where the heights of the
User Terminal (UT) and Base Station (BS) are constant for all links, leading
to a performance gain.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>3GPP TR 38.901: <a class="reference external" href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_constant_height.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_UT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_BS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_constant_height.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialises the RMa_pathloss_constant_height model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Centre frequency in GHz. Must be &lt;= 7 GHz. Defaults to 3.5.</p></li>
<li><p><strong>h_UT</strong> (<em>float</em><em>, </em><em>optional</em>) – Height of the User Terminal in metres. Must be in [1.0, 10.0].
Defaults to 1.5.</p></li>
<li><p><strong>h_BS</strong> (<em>float</em><em>, </em><em>optional</em>) – Height of the Base Station in metres. Must be in [10.0, 150.0].
Defaults to 35.0.</p></li>
<li><p><strong>LOS</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether to use the Line-of-Sight model.
Defaults to True.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments for API compatibility.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>h_UT</cite> or <cite>h_BS</cite> are outside their valid ranges.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_constant_height.get_pathgain">
<span class="sig-name descname"><span class="pre">get_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_constant_height.get_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathgain.</p>
<p>Pathgain is the reciprocal of the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The linear pathgain for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_constant_height.get_pathloss">
<span class="sig-name descname"><span class="pre">get_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_constant_height.get_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The calculated linear pathloss for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_constant_height.get_pathloss_dB">
<span class="sig-name descname"><span class="pre">get_pathloss_dB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_constant_height.get_pathloss_dB" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the pathloss in decibels (dB).</p>
<p>This is a convenience wrapper around <a class="reference internal" href="#RMa_pathloss_model_08.RMa_pathloss_constant_height.get_pathloss" title="RMa_pathloss_model_08.RMa_pathloss_constant_height.get_pathloss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pathloss()</span></code></a> that converts
the linear pathloss value to the dB scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres between UEs and cells. Does not take into account height.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations. Not used in calculation.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations. Not used in calculation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pathloss in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_discretised">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">RMa_pathloss_model_08.</span></span><span class="sig-name descname"><span class="pre">RMa_pathloss_discretised</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_ut_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_bs_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_discretised" title="Link to this definition">¶</a></dt>
<dd><p>Rural Macrocell (RMa) pathloss model with discretised heights.</p>
<p>Pre-calculates pathloss coefficients for a grid of discrete UE and BS
heights. At runtime, it rounds the actual heights to the nearest grid point
to look up coefficients, trading accuracy for computational speed.</p>
<p>The accuracy trade-off is minimal. This can be shown by running the
plot_RMa_pathloss_runtime_comparison program.</p>
<p class="rubric">References</p>
<ul class="simple">
<li><p>3GPP TR 38.901: <a class="reference external" href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_discretised.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_ut_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_bs_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_discretised.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialises the RMa_pathloss_discretised model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Centre frequency in GHz. Must be &lt;= 7 GHz. Defaults to 3.5.</p></li>
<li><p><strong>LOS</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether to use the Line-of-Sight model.
Defaults to True.</p></li>
<li><p><strong>h_ut_res</strong> (<em>float</em><em>, </em><em>optional</em>) – Resolution of the discrete UT height grid in metres. Defaults to 0.5.</p></li>
<li><p><strong>h_bs_res</strong> (<em>float</em><em>, </em><em>optional</em>) – Resolution of the discrete BS height grid in metres. Defaults to 1.0.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments for API compatibility.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_discretised.get_pathgain">
<span class="sig-name descname"><span class="pre">get_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_discretised.get_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathgain.</p>
<p>Pathgain is the reciprocal of the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The linear pathgain for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_discretised.get_pathloss">
<span class="sig-name descname"><span class="pre">get_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_discretised.get_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathloss based on the general 3GPP RMa model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations, shape (n_ues, 3). The 3rd column (height)
must be in the range [1.0, 10.0].</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations, shape (n_cells, 3). The 3rd column (height)
must be in the range [10.0, 150.0].</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any <cite>h_UT</cite> or <cite>h_BS</cite> value is outside its valid range.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The calculated linear pathloss for each UE-cell link.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.RMa_pathloss_discretised.get_pathloss_dB">
<span class="sig-name descname"><span class="pre">get_pathloss_dB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.RMa_pathloss_discretised.get_pathloss_dB" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the pathloss in decibels (dB).</p>
<p>This is a convenience wrapper around <a class="reference internal" href="#RMa_pathloss_model_08.RMa_pathloss_discretised.get_pathloss" title="RMa_pathloss_model_08.RMa_pathloss_discretised.get_pathloss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pathloss()</span></code></a> that converts
the linear pathloss value to the dB scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres between UEs and cells. Does not take into account height.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations. Not used in calculation.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations. Not used in calculation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pathloss in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.plot_RMa_pathloss_or_pathgain">
<span class="sig-prename descclassname"><span class="pre">RMa_pathloss_model_08.</span></span><span class="sig-name descname"><span class="pre">plot_RMa_pathloss_or_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pathloss'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_UT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_BS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom_box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_10m_pl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.plot_RMa_pathloss_or_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Plot 3GPP RMa pathloss or pathgain model predictions as a self-test.</p>
<p>This function generates a plot comparing various 3GPP RMa pathloss or
pathgain models for both Line-of-Sight (LOS) and Non-Line-of-Sight (NLOS)
scenarios. It includes a free-space pathloss reference and an optional
zoomed-in view for detailed analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plot_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of plot to generate. Options are ‘pathloss’ (default) to plot
pathloss in dB, or ‘pathgain’ to plot linear pathgain.</p></li>
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Carrier frequency in GHz, defaults to 3.5.</p></li>
<li><p><strong>h_UT</strong> (<em>float</em><em>, </em><em>optional</em>) – Height of the User Terminal (UE) in metres, defaults to 1.5.</p></li>
<li><p><strong>h_BS</strong> (<em>float</em><em>, </em><em>optional</em>) – Height of the Base Station (BS) in metres, defaults to 35.5.</p></li>
<li><p><strong>zoom_box</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, includes a zoomed-in inset on the plot. Defaults to False.</p></li>
<li><p><strong>print_10m_pl</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, prints pathloss values at 10 metres to the console for
LOS, NLOS, and free-space scenarios. Defaults to False.</p></li>
<li><p><strong>author</strong> (<em>str</em><em>, </em><em>optional</em>) – Author name to include in the plot timestamp. Defaults to ‘ ‘.</p></li>
<li><p><strong>x_min</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum distance for the plot’s x-axis in metres. Defaults to 35.0.</p></li>
<li><p><strong>x_max</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum distance for the plot’s x-axis in metres. Defaults to 5000.0.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ImportError</strong> – If required plotting modules (e.g., matplotlib) are not installed.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function uses the <a class="reference internal" href="#RMa_pathloss_model_08.RMa_pathloss" title="RMa_pathloss_model_08.RMa_pathloss"><code class="xref py py-class docutils literal notranslate"><span class="pre">RMa_pathloss</span></code></a>,
<a class="reference internal" href="#RMa_pathloss_model_08.RMa_pathloss_constant_height" title="RMa_pathloss_model_08.RMa_pathloss_constant_height"><code class="xref py py-class docutils literal notranslate"><span class="pre">RMa_pathloss_constant_height</span></code></a>, and
<a class="reference internal" href="#RMa_pathloss_model_08.RMa_pathloss_discretised" title="RMa_pathloss_model_08.RMa_pathloss_discretised"><code class="xref py py-class docutils literal notranslate"><span class="pre">RMa_pathloss_discretised</span></code></a> classes to compute the values for
the different scenarios.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="RMa_pathloss_model_08.plot_RMa_pathloss_runtime_comparison">
<span class="sig-prename descclassname"><span class="pre">RMa_pathloss_model_08.</span></span><span class="sig-name descname"><span class="pre">plot_RMa_pathloss_runtime_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">author</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#RMa_pathloss_model_08.plot_RMa_pathloss_runtime_comparison" title="Link to this definition">¶</a></dt>
<dd><p>Compare RMa pathloss model runtimes.</p>
<p>This function provides a lightweight performance benchmark for three distinct
implementations of the RMa pathloss model:</p>
<ol class="arabic simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">RMa_pathloss</span></code>: The full model with dynamic height calculations.</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">RMa_pathloss_constant_height</span></code>: A simplified model assuming fixed antenna heights.</p></li>
<li><dl class="simple">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">RMa_pathloss_discretised</span></code>: A model that uses pre-calculated coefficients</dt><dd><p>based on a discrete grid of antenna heights.</p>
</dd>
</dl>
</li>
</ol>
<p>It directly measures the execution time required to calculate pathloss for an
increasing number of UEs, thereby isolating the computational cost of each
model from the overhead of the full CRRM simulation framework. The primary
purpose is to visually demonstrate the performance gains achieved by the
simplified and discretised models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>author</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the author to be included in the plot’s timestamp metadata.
If not provided, the author field will be empty.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function does not return any values. Its primary outputs are plot
files (<cite>.png</cite>, <cite>.pdf</cite>) saved to the local directory and status messages
printed to the console.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">RMa_pathloss</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">RMa_pathloss_constant_height</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">RMa_pathloss_discretised</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>The comparison methodology involves the following steps for each specified UE count:
1.  Randomly generate locations for UEs and a fixed set of cell sites.
2.  Calculate the 2D and 3D distance matrices between every UE and cell.
3.  Time the <cite>get_pathloss</cite> method for each of the three model variants using these distance matrices.</p>
<p>The resulting plot displays two sets of data:
- The absolute runtime in milliseconds for each model on the primary y-axis.
- The runtime ratio of the exact model to the optimised models on a
secondary y-axis, quantifying the speed-up factor.</p>
<p class="rubric">Examples</p>
<p>To run the comparison and generate the output plots, simply call the function
from a script where the necessary modules are in the Python path.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot_RMa_pathloss_runtime_comparison</span><span class="p">(</span><span class="n">author</span><span class="o">=</span><span class="s1">&#39;Ibrahim Nur&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will produce ‘plot_RMa_pathloss_runtime_comparison.png’ and
‘plot_RMa_pathloss_runtime_comparison.pdf’ in the current directory.</p>
</dd></dl>

<figure class="align-default" id="id15">
<img alt="RMa pathloss model" src="_images/RMa_pathloss_model.png" />
<figcaption>
<p><span class="caption-text">RMa pathloss model</span><a class="headerlink" href="#id15" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id16">
<img alt="RMa pathloss runtime comparison" src="_images/RMa_pathloss_runtime_comparison.png" />
<figcaption>
<p><span class="caption-text">RMa pathloss models, runtime comparison</span><a class="headerlink" href="#id16" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="module-UMa_pathloss_model_06">
<span id="uma-urban-macrocell-pathloss-model"></span><h3>UMa (Urban Macrocell) pathloss model<a class="headerlink" href="#module-UMa_pathloss_model_06" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="UMa_pathloss_model_06.UMa_pathloss">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">UMa_pathloss_model_06.</span></span><span class="sig-name descname"><span class="pre">UMa_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMa_pathloss_model_06.UMa_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Urban Macrocell (UMa) pathloss model from 3GPP TR 38.901.</p>
<p>Calculates pathloss for urban macrocell environments where UE and BS heights
can vary. This model includes the stochastic calculation of the effective
environment height (h_E).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="UMa_pathloss_model_06.UMa_pathloss.fc_GHz">
<span class="sig-name descname"><span class="pre">fc_GHz</span></span><a class="headerlink" href="#UMa_pathloss_model_06.UMa_pathloss.fc_GHz" title="Link to this definition">¶</a></dt>
<dd><p>Centre frequency in gigahertz.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="UMa_pathloss_model_06.UMa_pathloss.LOS">
<span class="sig-name descname"><span class="pre">LOS</span></span><a class="headerlink" href="#UMa_pathloss_model_06.UMa_pathloss.LOS" title="Link to this definition">¶</a></dt>
<dd><p>Indicates if the Line-of-Sight model is active.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">References</p>
<ul class="simple">
<li><p>3GPP TR 38.901: <a class="reference external" href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="UMa_pathloss_model_06.UMa_pathloss.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMa_pathloss_model_06.UMa_pathloss.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialises the UMa_pathloss model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Centre frequency in gigahertz, by default 3.5.</p></li>
<li><p><strong>LOS</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether the Line-of-Sight (LOS) model should be
used, by default True.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments for API compatibility.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMa_pathloss_model_06.UMa_pathloss.get_pathgain">
<span class="sig-name descname"><span class="pre">get_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMa_pathloss_model_06.UMa_pathloss.get_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathgain.</p>
<p>Pathgain is the reciprocal of the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The linear pathgain for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMa_pathloss_model_06.UMa_pathloss.get_pathloss">
<span class="sig-name descname"><span class="pre">get_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMa_pathloss_model_06.UMa_pathloss.get_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathloss based on the 3GPP UMa model.</p>
<p>Implements the full UMa logic, including the stochastic calculation of the
effective environment height h_E and the breakpoint distance d_BP, which
depends on the effective antenna heights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations, shape (n_ues, 3). The 3rd column (height) must
be in the range [1.5, 22.5].</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations, shape (n_cells, 3).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any h_UT value is outside its valid range.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The calculated linear pathloss for each UE-cell link.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMa_pathloss_model_06.UMa_pathloss.get_pathloss_dB">
<span class="sig-name descname"><span class="pre">get_pathloss_dB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMa_pathloss_model_06.UMa_pathloss.get_pathloss_dB" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the pathloss in decibels (dB).</p>
<p>This is a convenience wrapper around <a class="reference internal" href="#UMa_pathloss_model_06.UMa_pathloss.get_pathloss" title="UMa_pathloss_model_06.UMa_pathloss.get_pathloss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pathloss()</span></code></a> that converts
the linear pathloss value to the dB scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations, shape (n_ues, 3).</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations, shape (n_cells, 3).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pathloss in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<figure class="align-default" id="id17">
<img alt="UMa pathloss model" src="_images/UMa_pathloss_model.png" />
<figcaption>
<p><span class="caption-text">UMa pathloss model</span><a class="headerlink" href="#id17" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="module-UMi_pathloss_model_00">
<span id="umi-urban-microcell-pathloss-model"></span><h3>UMi (Urban Microcell) pathloss model<a class="headerlink" href="#module-UMi_pathloss_model_00" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">UMi_pathloss_model_00.</span></span><span class="sig-name descname"><span class="pre">UMi_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_UT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_BS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>The complete Urban Microcell (UMi) pathloss model from 3GPP TR 38.901.</p>
<p>This class implements the full UMi model where antenna heights can vary for
each link. Unlike <a class="reference internal" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height" title="UMi_pathloss_model_00.UMi_pathloss_constant_height"><code class="xref py py-class docutils literal notranslate"><span class="pre">UMi_pathloss_constant_height</span></code></a>, it calculates all
pathloss coefficients dynamically at runtime based on the specific heights
of the UE and BS involved in each link. This provides maximum accuracy at
the cost of computational performance.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height" title="UMi_pathloss_model_00.UMi_pathloss_constant_height"><code class="xref py py-class docutils literal notranslate"><span class="pre">UMi_pathloss_constant_height</span></code></a></dt><dd><p>Simplified model with fixed heights.</p>
</dd>
<dt><a class="reference internal" href="#UMi_pathloss_model_00.UMi_pathloss_discretised" title="UMi_pathloss_model_00.UMi_pathloss_discretised"><code class="xref py py-class docutils literal notranslate"><span class="pre">UMi_pathloss_discretised</span></code></a></dt><dd><p>Performance-oriented model with quantised heights.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>3GPP TR 38.901, Section 7.4.1, Table 7.4.1-1.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_UT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_BS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialise the UMi_pathloss model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Centre frequency in GHz, by default 3.5.</p></li>
<li><p><strong>h_UT</strong> (<em>float</em><em>, </em><em>optional</em>) – Default height of the User Terminal in metres, used for plotting.
Defaults to 1.5.</p></li>
<li><p><strong>h_BS</strong> (<em>float</em><em>, </em><em>optional</em>) – Default height of the Base Station in metres, used for plotting.
Defaults to 10.0.</p></li>
<li><p><strong>LOS</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether to use the Line-of-Sight model. Defaults to True.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments for API compatibility.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss.get_pathgain">
<span class="sig-name descname"><span class="pre">get_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss.get_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the linear pathgain.</p>
<p>Pathgain is defined as the reciprocal of the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations and heights.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations and heights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The linear pathgain for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss.get_pathloss">
<span class="sig-name descname"><span class="pre">get_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss.get_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Calculate linear pathloss with dynamic antenna heights.</p>
<p>This method computes pathloss by dynamically calculating coefficients
for each UE-cell link based on their specific heights, extracted from
the <cite>U</cite> and <cite>C</cite> arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – A matrix of 2D distances in metres. Shape: (n_ues, n_cells).</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – A matrix of 3D distances in metres. Shape: (n_ues, n_cells).</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations, shape (n_ues, 3). The 3rd column (height)
must be in the range [1.5, 22.5].</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations, shape (n_cells, 3).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The calculated linear pathloss for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any <cite>h_UT</cite> value is outside its valid range of [1.5, 22.5]m.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss.get_pathloss_dB">
<span class="sig-name descname"><span class="pre">get_pathloss_dB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss.get_pathloss_dB" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the pathloss in decibels (dB).</p>
<p>This method is a convenience wrapper around <a class="reference internal" href="#UMi_pathloss_model_00.UMi_pathloss.get_pathloss" title="UMi_pathloss_model_00.UMi_pathloss.get_pathloss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pathloss()</span></code></a> that
converts the linear pathloss value to the dB scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations and heights, shape (n_ues, 3).</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations and heights, shape (n_cells, 3).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pathloss in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_constant_height">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">UMi_pathloss_model_00.</span></span><span class="sig-name descname"><span class="pre">UMi_pathloss_constant_height</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_UT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_BS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height" title="Link to this definition">¶</a></dt>
<dd><p>Urban Microcell (UMi) pathloss model assuming constant antenna heights.</p>
<p>This class implements a simplified version of the 3GPP TR 38.901 UMi model.
By assuming that the heights of the User Terminal and Base Station are
constant for all links, it can pre-calculate several coefficients during
initialisation. This leads to a significant performance gain during runtime
compared to the full model, which must compute these values dynamically for
each link.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_constant_height.fc_GHz">
<span class="sig-name descname"><span class="pre">fc_GHz</span></span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height.fc_GHz" title="Link to this definition">¶</a></dt>
<dd><p>Centre frequency in GHz.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_constant_height.h_BS">
<span class="sig-name descname"><span class="pre">h_BS</span></span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height.h_BS" title="Link to this definition">¶</a></dt>
<dd><p>Height of the base station in metres.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_constant_height.h_UT">
<span class="sig-name descname"><span class="pre">h_UT</span></span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height.h_UT" title="Link to this definition">¶</a></dt>
<dd><p>Height of the user terminal in metres.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_constant_height.LOS">
<span class="sig-name descname"><span class="pre">LOS</span></span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height.LOS" title="Link to this definition">¶</a></dt>
<dd><p>Indicates if the Line-of-Sight (True) or Non-Line-of-Sight (False)
model is active.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">References</p>
<ul class="simple">
<li><p>3GPP TR 38.901, Section 7.4.1, Table 7.4.1-1.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_constant_height.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_UT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_BS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialise the UMi_pathloss_constant_height model instance.</p>
<p>This constructor sets up the model’s parameters and pre-calculates
the constant terms used in the pathloss formulas, based on the fixed
antenna heights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Centre frequency in GHz, by default 3.5.</p></li>
<li><p><strong>h_UT</strong> (<em>float</em><em>, </em><em>optional</em>) – Height of the User Terminal in metres. Must be in [1.5, 22.5].
Defaults to 1.5.</p></li>
<li><p><strong>h_BS</strong> (<em>float</em><em>, </em><em>optional</em>) – Height of the Base Station in metres, by default 10.0.</p></li>
<li><p><strong>LOS</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether to use the Line-of-Sight model. Defaults to True.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments for API compatibility.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>h_UT</cite> is outside its valid range of [1.5, 22.5]m.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_constant_height.get_pathgain">
<span class="sig-name descname"><span class="pre">get_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height.get_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the linear pathgain.</p>
<p>Pathgain is defined as the reciprocal of the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The linear pathgain for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_constant_height.get_pathloss">
<span class="sig-name descname"><span class="pre">get_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height.get_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the linear pathloss for each UE-cell link.</p>
<p>This method computes the pathloss using pre-calculated coefficients.
For Line-of-Sight (LOS) conditions, it applies a dual-slope model based
on the breakpoint distance <cite>d_BP</cite>. For Non-Line-of-Sight (NLOS), it
calculates the NLOS pathloss and returns the maximum of the two.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – A matrix of 2D distances (ground distances) in metres between UEs
and cells. Shape: (n_ues, n_cells).</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – A matrix of 3D distances (direct line-of-sight distances) in metres
between UEs and cells. Shape: (n_ues, n_cells).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The calculated linear pathloss for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_constant_height.get_pathloss_dB">
<span class="sig-name descname"><span class="pre">get_pathloss_dB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height.get_pathloss_dB" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the pathloss in decibels (dB).</p>
<p>This method is a convenience wrapper around <a class="reference internal" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height.get_pathloss" title="UMi_pathloss_model_00.UMi_pathloss_constant_height.get_pathloss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pathloss()</span></code></a> that
converts the linear pathloss value to the dB scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pathloss in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_discretised">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">UMi_pathloss_model_00.</span></span><span class="sig-name descname"><span class="pre">UMi_pathloss_discretised</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_ut_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_bs_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_bs_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_bs_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_discretised" title="Link to this definition">¶</a></dt>
<dd><p>Urban Microcell (UMi) pathloss model with discretised heights.</p>
<p>This class implements a performance-optimised version of the UMi model. It
pre-calculates pathloss coefficients for a grid of discrete UE and BS
heights. At runtime, it rounds the actual antenna heights to the nearest
grid point and uses the corresponding pre-calculated values. This approach
trades a small amount of accuracy for a significant gain in computational
speed, making it suitable for large-scale simulations.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#UMi_pathloss_model_00.UMi_pathloss" title="UMi_pathloss_model_00.UMi_pathloss"><code class="xref py py-class docutils literal notranslate"><span class="pre">UMi_pathloss</span></code></a></dt><dd><p>The full, exact UMi pathloss model implementation.</p>
</dd>
<dt><a class="reference internal" href="#UMi_pathloss_model_00.UMi_pathloss_constant_height" title="UMi_pathloss_model_00.UMi_pathloss_constant_height"><code class="xref py py-class docutils literal notranslate"><span class="pre">UMi_pathloss_constant_height</span></code></a></dt><dd><p>Simplified model with fixed heights.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p>3GPP TR 38.901, Section 7.4.1, Table 7.4.1-1.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_discretised.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_ut_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_bs_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_bs_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_bs_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_discretised.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialise the UMi_pathloss_discretised model instance.</p>
<p>This constructor defines the discrete height grids for UEs and BSs and
pre-calculates the pathloss coefficient matrices for every combination
of heights on those grids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Centre frequency in GHz, by default 3.5.</p></li>
<li><p><strong>h_ut_res</strong> (<em>float</em><em>, </em><em>optional</em>) – Resolution of the discrete UT height grid in metres, by default 0.5.</p></li>
<li><p><strong>h_bs_res</strong> (<em>float</em><em>, </em><em>optional</em>) – Resolution of the discrete BS height grid in metres, by default 1.0.</p></li>
<li><p><strong>h_bs_min</strong> (<em>float</em><em>, </em><em>optional</em>) – The minimum BS height for the discretisation grid. Defaults to 10.0.
3GPP does not specify a constraint on BS height, hence the user might
want to change this value to suit their scenario.</p></li>
<li><p><strong>h_bs_max</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum BS height for the discretisation grid. Defaults to 10.0.
3GPP does not specify a constraint on BS height, hence the user might
want to change this value to suit their scenario.</p></li>
<li><p><strong>LOS</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether to use the Line-of-Sight model. Defaults to True.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments for API compatibility.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_discretised.get_pathgain">
<span class="sig-name descname"><span class="pre">get_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_discretised.get_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the linear pathgain.</p>
<p>Pathgain is defined as the reciprocal of the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations and heights.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations and heights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The linear pathgain for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_discretised.get_pathloss">
<span class="sig-name descname"><span class="pre">get_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_discretised.get_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Calculate linear pathloss using discretised height lookups.</p>
<p>This method determines the appropriate indices in the pre-calculated
coefficient matrices by rounding the actual UE and BS heights. It then
uses these indexed values to compute the pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – A matrix of 2D distances in metres. Shape: (n_ues, n_cells).</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – A matrix of 3D distances in metres. Shape: (n_ues, n_cells).</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations and heights. The 3rd column must be within
the defined grid range.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations and heights. The 3rd column must be within
the defined grid range.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The calculated linear pathloss for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any <cite>h_UT</cite> or <cite>h_BS</cite> value is outside its valid grid range.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UMi_pathloss_model_00.UMi_pathloss_discretised.get_pathloss_dB">
<span class="sig-name descname"><span class="pre">get_pathloss_dB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#UMi_pathloss_model_00.UMi_pathloss_discretised.get_pathloss_dB" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the pathloss in decibels (dB).</p>
<p>This method is a convenience wrapper around <a class="reference internal" href="#UMi_pathloss_model_00.UMi_pathloss_discretised.get_pathloss" title="UMi_pathloss_model_00.UMi_pathloss_discretised.get_pathloss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pathloss()</span></code></a> that
converts the linear pathloss value to the dB scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations and heights, shape (n_ues, 3).</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations and heights, shape (n_cells, 3).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pathloss in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<figure class="align-default" id="id18">
<img alt="UMi pathloss model" src="_images/UMi_pathloss_model.png" />
<figcaption>
<p><span class="caption-text">UMi pathloss model</span><a class="headerlink" href="#id18" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="module-InH_pathloss_model_01">
<span id="inh-indoor-hotspot-pathloss-model"></span><h3>InH (Indoor Hotspot) pathloss model<a class="headerlink" href="#module-InH_pathloss_model_01" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="InH_pathloss_model_01.InH_pathloss">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">InH_pathloss_model_01.</span></span><span class="sig-name descname"><span class="pre">InH_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#InH_pathloss_model_01.InH_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Indoor Hotspot (InH) pathloss model from 3GPP TR 38.901.</p>
<p>Calculates pathloss for indoor office environments, supporting
both Line-of-Sight (LOS) and Non-Line-of-Sight (NLOS) scenarios.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="InH_pathloss_model_01.InH_pathloss.fc_GHz">
<span class="sig-name descname"><span class="pre">fc_GHz</span></span><a class="headerlink" href="#InH_pathloss_model_01.InH_pathloss.fc_GHz" title="Link to this definition">¶</a></dt>
<dd><p>Centre frequency in gigahertz.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="InH_pathloss_model_01.InH_pathloss.LOS">
<span class="sig-name descname"><span class="pre">LOS</span></span><a class="headerlink" href="#InH_pathloss_model_01.InH_pathloss.LOS" title="Link to this definition">¶</a></dt>
<dd><p>Flag indicating if the Line-of-Sight model is active.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">References</p>
<ul class="simple">
<li><p>3GPP TR 38.901: <a class="reference external" href="https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173">https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=3173</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="InH_pathloss_model_01.InH_pathloss.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#InH_pathloss_model_01.InH_pathloss.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialises the InH_pathloss model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Centre frequency in gigahertz. Defaults to 3.5.</p></li>
<li><p><strong>h_UT</strong> (<em>float</em><em>, </em><em>optional</em>) – Default User Terminal height in metres. Defaults to 1.5.</p></li>
<li><p><strong>h_BS</strong> (<em>float</em><em>, </em><em>optional</em>) – Default Base Station height in metres. Defaults to 3.0.</p></li>
<li><p><strong>LOS</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether the Line-of-Sight (LOS) model should be
used. Defaults to True.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments for API compatibility.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="InH_pathloss_model_01.InH_pathloss.get_pathgain">
<span class="sig-name descname"><span class="pre">get_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#InH_pathloss_model_01.InH_pathloss.get_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathgain.</p>
<p>Pathgain is the reciprocal of the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix in metres.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The linear pathgain for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="InH_pathloss_model_01.InH_pathloss.get_pathloss">
<span class="sig-name descname"><span class="pre">get_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#InH_pathloss_model_01.InH_pathloss.get_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathloss based on the 3GPP InH model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix (metres). Not used in calculation.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations. Not used in calculation.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations. Not used in calculation.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any d3D_m value is outside the valid range of [1.0, 150.0] metres.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The calculated linear pathloss for each UE-cell link.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="InH_pathloss_model_01.InH_pathloss.get_pathloss_dB">
<span class="sig-name descname"><span class="pre">get_pathloss_dB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#InH_pathloss_model_01.InH_pathloss.get_pathloss_dB" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the pathloss in decibels (dB).</p>
<p>This is a convenience wrapper around <a class="reference internal" href="#InH_pathloss_model_01.InH_pathloss.get_pathloss" title="InH_pathloss_model_01.InH_pathloss.get_pathloss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pathloss()</span></code></a> that converts
the linear pathloss value to the dB scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix (metres). Not used in calculation.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations. Not used in calculation.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations. Not used in calculation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pathloss in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="InH_pathloss_model_01.plot_InH_pathloss_or_pathgain">
<span class="sig-prename descclassname"><span class="pre">InH_pathloss_model_01.</span></span><span class="sig-name descname"><span class="pre">plot_InH_pathloss_or_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pathloss'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_UT</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_BS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom_box</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_10m_pl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">120.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#InH_pathloss_model_01.plot_InH_pathloss_or_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Plots 3GPP InH pathloss or pathgain model predictions as a self-test.</p>
<p>This function generates a plot of the 3GPP InH pathloss or pathgain models
for both Line-of-Sight (LOS) and Non-Line-of-Sight (NLOS) scenarios. It
also includes a free-space pathloss reference and an optional zoomed-in
view of the plot for detailed analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plot_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of plot to generate. Options are ‘pathloss’ (default) to plot
pathloss in dB, or ‘pathgain’ to plot linear pathgain.</p></li>
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Carrier frequency in GHz, defaults to 3.5.</p></li>
<li><p><strong>h_UT</strong> (<em>float</em><em>, </em><em>optional</em>) – Height of the User Terminal (UE) in metres, defaults to 1.5.</p></li>
<li><p><strong>h_BS</strong> (<em>float</em><em>, </em><em>optional</em>) – Height of the Base Station (BS) in metres, defaults to 3.0.</p></li>
<li><p><strong>zoom_box</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, includes a zoomed-in inset on the plot. Defaults to False.</p></li>
<li><p><strong>print_10m_pl</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, prints pathloss values at 10 metres to the console for
LOS, NLOS, and free-space scenarios. Defaults to False.</p></li>
<li><p><strong>author</strong> (<em>str</em><em>, </em><em>optional</em>) – Author name to include in the plot timestamp. Defaults to ‘ ‘.</p></li>
<li><p><strong>x_min</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum distance for the plot’s x-axis in metres. Defaults to 1.0.</p></li>
<li><p><strong>x_max</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum distance for the plot’s x-axis in metres. Defaults to 120.0.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ImportError</strong> – If required plotting modules (e.g., matplotlib) are not installed.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function uses the <a class="reference internal" href="#InH_pathloss_model_01.InH_pathloss" title="InH_pathloss_model_01.InH_pathloss"><code class="xref py py-class docutils literal notranslate"><span class="pre">InH_pathloss</span></code></a> class to compute the pathloss
and pathgain values for the different scenarios.</p>
</dd></dl>

<figure class="align-default" id="id19">
<img alt="InH pathloss model" src="_images/InH_pathloss_model.png" />
<figcaption>
<p><span class="caption-text">InH pathloss model</span><a class="headerlink" href="#id19" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="module-power_law_pathloss_model_02">
<span id="power-law-pathloss-model"></span><h3>Power-law pathloss model<a class="headerlink" href="#module-power_law_pathloss_model_02" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.Power_law_pathloss">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">power_law_pathloss_model_02.</span></span><span class="sig-name descname"><span class="pre">Power_law_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exponent</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#power_law_pathloss_model_02.Power_law_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Simple power-law (or log-distance) pathloss model.</p>
<p>Calculates pathloss using the formula:
PL(d) [dB] = PL(d0) + 10 * n * log10(d / d0)</p>
<p>This implementation fixes the reference distance d0 = 1 metre and calculates
the reference pathloss PL(d0) using the free-space formula at 1m.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.Power_law_pathloss.fc_GHz">
<span class="sig-name descname"><span class="pre">fc_GHz</span></span><a class="headerlink" href="#power_law_pathloss_model_02.Power_law_pathloss.fc_GHz" title="Link to this definition">¶</a></dt>
<dd><p>Centre frequency in gigahertz (used to calculate PL at 1m).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.Power_law_pathloss.exponent">
<span class="sig-name descname"><span class="pre">exponent</span></span><a class="headerlink" href="#power_law_pathloss_model_02.Power_law_pathloss.exponent" title="Link to this definition">¶</a></dt>
<dd><p>The pathloss exponent ‘n’.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.Power_law_pathloss.L_0">
<span class="sig-name descname"><span class="pre">L_0</span></span><a class="headerlink" href="#power_law_pathloss_model_02.Power_law_pathloss.L_0" title="Link to this definition">¶</a></dt>
<dd><p>The linear pathloss at the 1-metre reference distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.Power_law_pathloss.L_0_dB">
<span class="sig-name descname"><span class="pre">L_0_dB</span></span><a class="headerlink" href="#power_law_pathloss_model_02.Power_law_pathloss.L_0_dB" title="Link to this definition">¶</a></dt>
<dd><p>The pathloss in dB at the 1-metre reference distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">References</p>
<ul class="simple">
<li><ol class="upperalpha simple" start="12">
<li><ol class="upperalpha simple" start="23">
<li><p>Barclay (Ed.), “Propagation of Radiowaves,” 2nd ed., IET, 2003.</p></li>
</ol>
</li>
</ol>
</li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.Power_law_pathloss.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exponent</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#power_law_pathloss_model_02.Power_law_pathloss.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialises the Power_law_pathloss model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fc_GHz</strong> (<em>float</em>) – Centre frequency in gigahertz.</p></li>
<li><p><strong>exponent</strong> (<em>float</em>) – The pathloss exponent ‘n’.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments for API compatibility.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.Power_law_pathloss.get_pathgain">
<span class="sig-name descname"><span class="pre">get_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#power_law_pathloss_model_02.Power_law_pathloss.get_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathgain.</p>
<p>Pathgain is the reciprocal of the linear pathloss.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix (metres). Unused by this model.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres.</p></li>
<li><p><strong>U</strong> (<em>numpy.ndarray</em>) – Array of UE locations, shape (n_ues, 3). Unused.</p></li>
<li><p><strong>C</strong> (<em>numpy.ndarray</em>) – Array of cell locations, shape (n_cells, 3). Unused</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The linear pathgain for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.Power_law_pathloss.get_pathloss">
<span class="sig-name descname"><span class="pre">get_pathloss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#power_law_pathloss_model_02.Power_law_pathloss.get_pathloss" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the linear pathloss.</p>
<p>Implements the formula: PL_linear = L_0 * (d ^ exponent)
where L_0 is the free-space pathloss at 1 metre. This model
only uses the 3D distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix (metres). Unused by this model.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The calculated linear pathloss for each UE-cell link.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.Power_law_pathloss.get_pathloss_dB">
<span class="sig-name descname"><span class="pre">get_pathloss_dB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d2D_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d3D_m</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#power_law_pathloss_model_02.Power_law_pathloss.get_pathloss_dB" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the pathloss in decibels (dB).</p>
<p>This is a convenience wrapper around <a class="reference internal" href="#power_law_pathloss_model_02.Power_law_pathloss.get_pathloss" title="power_law_pathloss_model_02.Power_law_pathloss.get_pathloss"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pathloss()</span></code></a> that converts
the linear pathloss value to the dB scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d2D_m</strong> (<em>numpy.ndarray</em>) – 2D distance matrix (metres). Unused by this model, but
included for API compatibility.</p></li>
<li><p><strong>d3D_m</strong> (<em>numpy.ndarray</em>) – 3D distance matrix in metres between UEs and cells.</p></li>
<li><p><strong>**args</strong> – Catches unused keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The pathloss in decibels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="power_law_pathloss_model_02.plot_power_law_pathloss_or_pathgain">
<span class="sig-prename descclassname"><span class="pre">power_law_pathloss_model_02.</span></span><span class="sig-name descname"><span class="pre">plot_power_law_pathloss_or_pathgain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pathloss'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fc_GHz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exponent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_10m_pl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">35.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#power_law_pathloss_model_02.plot_power_law_pathloss_or_pathgain" title="Link to this definition">¶</a></dt>
<dd><p>Plot 3GPP power_law pathloss or pathgain model predictions as a self-test.</p>
<p>Generates a plot comparing the power_law pathloss or pathgain models.
It includes a free-space pathloss reference and an optional zoomed-in
view for detailed analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plot_type</strong> (<em>str</em><em>, </em><em>optional</em>) – Type of plot to generate. Options are ‘pathloss’ (default) to plot
pathloss in dB, or ‘pathgain’ to plot linear pathgain.</p></li>
<li><p><strong>fc_GHz</strong> (<em>float</em><em>, </em><em>optional</em>) – Carrier frequency in GHz, by default 3.5.</p></li>
<li><p><strong>exponent</strong> (<em>float</em><em>, </em><em>optional</em>) – Exponent used in the power-law model, by default 3.0.</p></li>
<li><p><strong>print_10m_pl</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, prints pathloss values at 10 metres to the console.
Defaults to False.</p></li>
<li><p><strong>author</strong> (<em>str</em><em>, </em><em>optional</em>) – Author name to include in the plot timestamp, empty by default.</p></li>
<li><p><strong>x_min</strong> (<em>float</em><em>, </em><em>optional</em>) – Minimum distance for the plot’s x-axis in metres, by default 35.0.</p></li>
<li><p><strong>x_max</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum distance for the plot’s x-axis in metres, by default 5000.0.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ImportError</strong> – If required plotting modules (e.g., matplotlib) are not installed.</p>
</dd>
</dl>
</dd></dl>

<figure class="align-default" id="id20">
<img alt="power_law_pathloss_model" src="_images/power_law_pathloss_model.png" />
<figcaption>
<p><span class="caption-text">Power-law pathloss model</span><a class="headerlink" href="#id20" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<hr align="left" width="100%"><p>Last modified: 2025-11-10 10:49</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="#">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">CRRM documentation</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a><ul>
<li><a class="reference internal" href="#authors">Authors</a></li>
<li><a class="reference internal" href="#software-dependencies">Software dependencies</a></li>
<li><a class="reference internal" href="#installation-from-source">Installation from source</a></li>
<li><a class="reference internal" href="#performance">Performance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tutorial-examples">Tutorial examples</a><ul>
<li><a class="reference internal" href="#example-01-quick-start">Example 01: Quick start</a></li>
<li><a class="reference internal" href="#example-02-adding-a-logger">Example 02: Adding a logger</a></li>
<li><a class="reference internal" href="#example-03-resource-allocation">Example 03: Resource allocation</a></li>
<li><a class="reference internal" href="#example-04-pathloss-model-comparison">Example 04: Pathloss model comparison</a></li>
<li><a class="reference internal" href="#example-05-antenna-pattern-visualisation">Example 05: Antenna pattern visualisation</a></li>
<li><a class="reference internal" href="#example-06-subbanding-and-interference">Example 06: Subbanding and Interference</a></li>
<li><a class="reference internal" href="#example-07-adding-ues-during-a-run">Example 07: Adding UEs during a run</a></li>
<li><a class="reference internal" href="#example-08-the-inh-indoor-hotspot-model">Example 08: The InH Indoor Hotspot model</a></li>
<li><a class="reference internal" href="#example-09-indoor-hotspot-model-in-3d">Example 09: Indoor Hotspot model in 3d</a></li>
<li><a class="reference internal" href="#example-10-base-station-sectorization">Example 10: Base-station sectorization</a></li>
<li><a class="reference internal" href="#example-11-one-cell-throughput-tests">Example 11: One-cell throughput tests</a></li>
<li><a class="reference internal" href="#example-12-signal-to-interference-ratio-cumulative-distribution">Example 12: Signal-to-Interference ratio cumulative distribution</a></li>
<li><a class="reference internal" href="#example-13-timing-tests">Example 13: Timing tests</a></li>
<li><a class="reference internal" href="#example-14-fading-demonstration">Example 14: Fading demonstration</a></li>
<li><a class="reference internal" href="#example-15-mimo">Example 15: MIMO</a></li>
<li><a class="reference internal" href="#example-16-callback-demo">Example 16: callback demo</a></li>
</ul>
</li>
<li><a class="reference internal" href="#crrm-internal-structure-and-mathematical-model">CRRM internal structure and mathematical model</a></li>
<li><a class="reference internal" href="#api-reference">API reference</a><ul>
<li><a class="reference internal" href="#crrm-module">CRRM module</a></li>
<li><a class="reference internal" href="#node-class">_Node class</a></li>
<li><a class="reference internal" href="#module-CRRM.Parameters">Parameters class</a></li>
<li><a class="reference internal" href="#module-CRRM.Simulator">Simulator class</a></li>
<li><a class="reference internal" href="#module-CRRM.Logger">Logger class</a></li>
<li><a class="reference internal" href="#module-CRRM.Antenna_gain">Antenna_gain class</a></li>
<li><a class="reference internal" href="#module-RMa_pathloss_model_08">RMa (Rural Macrocell) pathloss model</a></li>
<li><a class="reference internal" href="#module-UMa_pathloss_model_06">UMa (Urban Macrocell) pathloss model</a></li>
<li><a class="reference internal" href="#module-UMi_pathloss_model_00">UMi (Urban Microcell) pathloss model</a></li>
<li><a class="reference internal" href="#module-InH_pathloss_model_01">InH (Indoor Hotspot) pathloss model</a></li>
<li><a class="reference internal" href="#module-power_law_pathloss_model_02">Power-law pathloss model</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">CRRM 2.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CRRM documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Keith Briggs.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>